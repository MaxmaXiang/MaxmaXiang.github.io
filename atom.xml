<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>君子驯励，其德音也</title>
  
  
  <link href="https://maxmaxiang.github.io/atom.xml" rel="self"/>
  
  <link href="https://maxmaxiang.github.io/"/>
  <updated>2025-08-19T01:05:40.384Z</updated>
  <id>https://maxmaxiang.github.io/</id>
  
  <author>
    <name>马翔</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>名人名言</title>
    <link href="https://maxmaxiang.github.io/2099/02/03/%E5%90%8D%E4%BA%BA%E5%90%8D%E8%A8%80/%E5%90%8D%E4%BA%BA%E5%90%8D%E8%A8%80/"/>
    <id>https://maxmaxiang.github.io/2099/02/03/%E5%90%8D%E4%BA%BA%E5%90%8D%E8%A8%80/%E5%90%8D%E4%BA%BA%E5%90%8D%E8%A8%80/</id>
    <published>2099-02-03T14:44:24.000Z</published>
    <updated>2025-08-19T01:05:40.384Z</updated>
    
    <content type="html"><![CDATA[<p>细节决定成败，习惯成就未来，性格决定命运。</p><p>完成比完美重要一万倍。</p><p>意志与命运往往背道而驰，决心到最后全部推倒。</p><p>像在临死前回顾自己的一生一样在睡前回顾自己的一天是如何度过的，像在生命的最后一天里一样在起床后决定一天要做的事。 </p><p>science is organized knowledge，and wisdom is organized life。</p><p>man must be disciplined for he is by nature raw and wild</p><p>每个人都有自己的人生节奏。</p><p>组织你的生活，贯彻你的计划，在日常生活中遵循普遍性原则，安排时间来发展你的技能，为小事留出时间，为职责留出时间。</p><p>先完成困难的工作，再完成简单的工作，一天就是一生。</p><p>知行合一。</p><p>日拱一卒。</p><p>我们暂不自行思索而拿书来读时会觉得很轻鬆，然而在读书时我们的头脑实际上成为别人思想的运动场了。所以，读书愈多或整天沉浸读书的人虽然可藉以休养精神但他的思维能力必将渐次丧失此犹如时常骑马的人步行能力必定较差道理相同。</p><p>炫耀自己的才华，卖弄自己的精明只不过旁敲侧击地嘲笑别人愚钝和无能。</p><p>你以为自己在爱情中总是运气不好，但其实你无意识中一直重复着相同的模式。你觉得自己在事业上总是受阻，但你内心深处可能害怕真正的成功。以为自己是这个世界的受害者，但实际上你一直被那些未曾直面的创伤操控着。</p><p>从小我们便被教导要按“生活的剧本”去活，更没人问我们问题：你为什么而活？这种意义的缺失并非偶然，而是被特意设计的结果。我们被灌输：身份来自于外在，薪水，头衔，我们获得的认可。这是一种社会对于人的规训，因为不愿意被规训的人对社会来说是危险的，他们不在意社会给予他们的头衔和意义，社会无法控制他们。</p><p>大人虎变，其文炳也；君子豹变，其文蔚也；小人革面，顺以从君。</p><p>倒退你的生活，从终点开始规划你的一生。</p><p>我已经按照我的生活方式写好了我的讣告。</p><p>首要原则是你不能欺骗自己，而你是最容易被欺骗的人。</p><p>如果你像其他每个人那样走相同的方向,你前头就有一大群人。</p><p>我是宇宙的一粒原子，也是原子构成的宇宙。</p><p>若欲精通某事，便需将其教给他人。</p><p>尽管我母亲对科学一无所知，她对我影响也很大，特别的说，她有一种奇妙的幽默感，我从她那里明白：最高形式的理解，是笑，是人类的同情。</p><p>你总在心里对自己说：我本来可以去做那个，但我没去做。这其实只是另一种说你做不到的方式。</p><p>在我还小的时候，我发现圣诞老人不是真的，我不觉得扫兴。我倒是如释重负：全世界那么多孩子，在同一个晚上都得到礼物，要解释这个现象，如今就简单多了啊。</p><p>在你年轻的时候，找到你爱干的事儿，那事足够大，能占住你全部成年岁月的兴趣，那是很妙的。因为，无论那是什么，如果你做的足够好（如果你真喜欢，你会干好），大家横竖会要为你想干的事付钱给你。</p><p>我有一种哲学，就是不为过去所作的事情后悔。只是设法记住你当时为什么做出那样的决定。</p><p>你没有义务始终保持和一年前，一个月前，甚至昨日相同的状态。你来到这个世界是为了不断地创造自己。</p><p>你没有责任去完成别人认为你应该成就的事情。我没有责任变成他们期望的样子，这是他们的错误，而不是我的失败。</p><p>努力工作，找到某种让你心醉神迷的东西。一旦你找到了，你就知道你一辈子的事业了。</p><p>不要想你想成为什么东西，只想你想干什么事情。</p><p>当然，你只有一次生命，你会犯下所有错误，并学会不再重复，这就是人生。</p><p>学生不需要一个完美的老师，他们需要一个快乐的老师，能让他们兴奋地来到学校，培养他们对学习的热爱。</p><p>永远不要将教育与智慧混为一谈，你可以拥有博士学位，却仍然是个傻瓜。</p><p>理解，而不是死记硬背；学习原理，而不是公式。</p><p>我无法理解任何人如何能从这种自我复制型的体系中受到教育，在这种体系中人们通过考试，然后教导其他热通过考试，但没有人真正懂得任何东西。</p><p>不要只教导你的孩子如何取得成功，还要教导他们在不成功时如何应对，教会他们如何处理失败并从错误中吸取教训。</p><p>我足够聪明，所以知道自己有时是愚蠢的。</p><p>苦行和极简将会让人更加敏锐。匮乏即是富足，自律产生喜悦。</p><p>当你的教育限制了你的想象力，这就被称为灌输。那些无法独立思考的人，就像是迷了路。教育应该是一种奖赏性的体验，让你能思考、想象、质疑、怀疑、和解决问题。</p><p>我相信课本对于一个好老师而言，只是帮助教学的工具，而不是照本宣科的材料。</p><p>我曾经是一个努力学习的普通人。没有天才，事实是他们对某件事感兴趣，然后倾其所能地学习它，但他们只是普通人。</p><p>我认为我们应该教给人们一些奇思妙想，求知的目的是变得更加能够欣赏奇思妙想的事物。</p><p>不了解数学就无法了解世界。</p><p>以最不受约束、不虔敬和原创性的方式，努力学习你最感兴趣的东西。</p><p>问题不在于人们未受教育，而在于人们受过的教育仅足够使他们相信所学的东西，但不足以让他们对所学的内容进行质疑。</p><p>你可以知道一种鸟在世界上不同的语言里的名字,但即便如此，你对这种鸟其实一无所知，所以让我们看看这只鸟，看它在做什么—那才是最重要的。我很早就明白了知道某物的名字和真正了解某物之间的区别。</p><p>科学家是探索者，哲学家是旅行家。</p><p>对于我无法创造的东西，我也无法理解它。</p><p>事实证明真理总是比你想象得更简单。</p><p>科学并不是专家的事业，是每个人都可以做的。</p><p>科学思维的一个原则，是彻底的诚实。</p><p>数学是一种语言，外加推理；它像一种语言，外加逻辑。数学是一种工具，用来推理。</p><p>一切特立独行的人格都意味着强大。</p><p>没有对生活绝望就不会爱生活。</p><p>重要的不是治愈，而是带着病痛活下去。</p><p>当对幸福的憧憬过于急切，那痛苦就在人的心灵深处升起。</p><p>谈论你所爱的事物，最好的方法是轻轻说起它。</p><p>自由不是想做什么，就做什么，而是教会你不想做什么，就可以不做什么。</p><p>决定我们是否富有的不是我们拥有的东西而是我们没有也行的东西。</p><p>自由即自律。</p><p>一个人没有信心，第二天都不想起床。</p><p>既然我已经踏上这条道路，那么任何东西都不应该妨碍我沿着这条路走下去。</p><p>女人越是拒绝，越是否认其性欲，男人对她的估价便越来越高了。</p><p>小事相信头脑，大事相信心灵。</p><p>当一个人得不到他想要的东西时，他必须珍惜他所拥有的。</p><p>思考是行动的彩排。</p><p>人类有可能是享乐主义动物与理性人类二者的交替表现。</p><p>遭遇偶尔的失败，并从失败中反思自己的生活方式，生活方向是有益的。</p><p>真正的闲暇并不是说什么也不做，而是能够自由地做自己感兴趣的事情。</p><p>命是弱者的接口，运是强者的谦词。</p><p>生活总是让我们遍体鳞伤，但到后来，那些受伤的地方一定会变成我们最强壮的地方。</p><p>我们花了两年学会说话，却要花上六十年来学会闭嘴。</p><p>大多数时候，我们说得越多，彼此的距离却越远，矛盾也越多。</p><p>优于别人，并不高贵，真正的高贵应该是优于过去的自己。</p><p>当你为错过太阳而哭泣的时候，你也要再错过群星了。</p><p>只有经历过地狱般的磨砺，才能练就创造天堂的力量；只有流过血的手指，才能弹出世间的绝响。</p><p>纵然伤心，也不要愁眉不展，因为你不知是谁会爱上你的笑容。</p><p>一切伟大的行动和思想，都有一个微不足道的开始</p><p>生命中真正重要的不是你遭遇了什么，而是你记住了哪些事，又是如何铭记的。</p><p>我们趋行在人生这个亘古的旅途，在坎坷中奔跑，在挫折中涅槃，忧愁缠满全身，痛苦飘洒一地。我们累，却无从止歇，我们苦，却无法回避。</p><p>人生十分孤独，没有一个人能读懂另一个人，每一个人都很孤独。</p><p>我除了要依照我内心自然发生的愿望去生活，别无他求。</p><p>命是弱者的借口，运是强者的谦词。</p><p>我们生而破碎，用活着来修修补补。</p><p>幸福就是一双鞋合不合适，只有自己一个人知道。</p><p>如果你把谎言撕碎，那些碎片就是真理。</p><p>假如传统或世代相传的意义仅仅是盲目地或一丝不苟地因循前人的风格，那么传统就一无可取。</p><p>生命是一团欲望，欲望不能满足便痛苦，满足便无聊，人生就在痛苦和无聊之间摇摆。</p><p>人性一个最特别的弱点就是在意别人如何看待自己。</p><p>平庸的人关心咋样耗费时间，有才能的人竭力利用时间。</p><p>事物本身是不变的，变的只是人的感觉。</p><p>人就像寒冬里的刺猬，相互靠的太近，会觉得刺痛；彼此离得太远，却又会觉得寒冷，人是必须保持适当的距离过活。</p><p>心性不高的人，幸福和快乐的唯一源泉是他的感官嗜好，充其量过一种舒适的家庭生活。</p><p>财富就像海水，饮得越多，渴得越厉害。</p><p>平庸的人喜好与人交往，喜欢迁就别人。这是因为他们忍受别人要比忍受他们自己来得更加容易。</p><p>人们最终所真正能够理解和欣赏的事物只不过是一些在本质上和他自身相同的事物罢了。</p><p>人最大的愚蠢就是牺牲健康，无论是为了诸如金钱、晋职，还是为了学问，声名。</p><p>一个人的认识，愈明晰，智慧愈增，他的痛苦也愈多，身为天才的人，他便有最多的苦恼。</p><p>这个世界沉浸在罪恶之中，野蛮人互相吞食对方，文明人互相欺骗对方。</p><p>美是高级的善，创造美是最高级的乐趣。</p><p>结婚就意味着平分个人权益，承担双份义务。</p><p>第一个忠告是生活先于书籍，第二个忠告是正文先于注解，即经验先于思考和认识。</p><p>谁失去了希望，谁也就没有了恐惧，这就是铤而走险这个词的意义。</p><p>那种由于痛苦而流露感情的地方，就会吸引那些虚无主义的人。</p><p>越是内心里有欠缺，他越是希望在别人眼里被看作幸运儿。</p><p>社交的起因在于人们生活的单调和空虚，社交的需要驱使他们来到一起，但各自具有的许多令人厌憎的品相又驱使他们分开，终于，他们找到了能彼此容忍的适当距离，那就是礼貌。</p><p>如果我们怀疑一个人说谎，我们就应该假装相信他，因为他会变得越来越神勇而有自信，并更大胆的说谎，最后会自己揭开自己的面具。</p><p>从根本上说，只有我们独立自主的思索，才真正具有真理和生命。因为，惟有他们才是我们反复领悟的东西。他人的思想就像别人餐桌上的残羹，就像陌生客人挪下的衣裳。</p><p>小人常为伟人的缺点或过失得意。</p><p>我们无论要做或者不做什么事情，我们首要考虑的几乎就是别人的看法，只要我们仔细观察就可以看出我们所经历的担忧和害怕半数以上来自这方面的忧虑。它是我们那容易受伤的自尊心。因为他有着病态般的敏感和所有虚荣、自负、炫耀、排场的基础。</p><p>所有的真理都要经过三个阶段。首先受到嘲笑。然后遭到激烈的反对。最后被理所应当地接受。</p><p>如果我们举止有礼，言谈友善；我们就能粗暴的对待许多人而安然无恙。</p><p>没有深厚经验衬托的广博思想和知识，就像是一本每页仅有两行正文却有四十行注释的教科书。</p><p>人类彻头彻尾是欲望的化身。</p><p>所谓辉煌的人生，不过是欲望的囚徒。</p><p>没有人生活在过去，也没有人生活在未来，现在是生命确实占有的唯一形态。</p><p>伟大的心灵在这个世界更喜欢独白，自己与自己说话。</p><p>在这样一个充满缺陷的世界里，如若能遇到真挚的朋友，就好好珍惜吧，有时候我们连对自己真诚都做不到。所以，无需苛责别人，人性本就复杂奇怪。</p><p>遗忘比绝望更强有力。</p><p>一个人只要可能，就应该像伟大的天才那样思考，而像普通人那样说话。</p><p>针对别人的行为动怒，就像跟一块我们前进路上的石头大发脾气同等的愚蠢。对于许多人，我们最聪明的想法就是：我不准备改变他们，我要利用他们。</p><p>幸福不过是欲望的暂时停止。</p><p>你的时间有限，所以不要浪费时间为别人而活，不要被教条所限，不要活在别人的观念里。</p><p>不要让别人的意见左右自己内心的声音，最重要的是勇敢的去追随自己的心灵和直觉。</p><p>我曾在17岁时读过这么一句名言：“如果你把每一天当做自己人生的最后一天来过，你才能够明白人生的真谛。”这句话令我印象深刻。</p><p>重要的不是终点，而是你在旅途中完成了多少有趣的事。</p><p>领袖的追随者之间的区别，就是创新。</p><p>记住该记住的，忘记该忘记的。改变能改变的，接受不能改变的。</p><p>没有对生活绝望，就不会爱生活。</p><p>重要的不是治愈，而是带着病痛活下去。</p><p>当对幸福的憧憬过于急切，那痛苦就在人的心灵深处升起。</p><p>习惯于绝望的处境，比绝望的处境本身还要糟。</p><p>未曾清贫难成人，不经打击老天真。</p><p>自古英雄出炼狱，从来富贵入凡尘。</p><p>为了让事物变得可能，我们必须一次又一次尝试不可能的事情。</p><p>无论是动物还是人，只要他全力以赴，将他的全部意志专注于一件事上，他就能实现目标。</p><p>无法自爱就无法爱人，憎恨自己就一定会憎恨他人。</p><p>生活是一条河，没有过去，没有未来，一切都是本质和当下。</p><p>命运和性格是同一个概念的两个名字。</p><p>意志与命运往往背道而驰，决心到最后全部推倒。</p><p>你所浪费的今天，是昨日殒身之人所奢望的明天。</p><p>优于别人，并不高贵，真正的高贵应该是优于过去的自己。</p><p>一切伟大的行动和思想，都有一个微不足道的开始。</p><p>命是弱者的借口，运是强者的谦词。</p><p>在孤独中，孤独者将自己吃的一干二净，而在群体中，他被众人吃掉。</p><p>老去已忘天下事，梦中犹见牡丹花。</p><p>我们的财产，一件件的被流逝的岁月抢走。</p><p>人们通常的见解是，在人生的旅途上走得越长久，得到的财富也越多；实际上岁月抢走了我们一件件财产，最后是两手空空。</p><p>当人们无法选择未来时，就会珍惜选择过去的权利。</p><p>人人都想上天堂，却没有人想死。</p><p>失败会激励胜利者，击垮失败者。</p><p>我志在将每一次灾难转化成机会</p><p>愤世者永远不会成功。未经证实的怀疑和恐惧会使人们成为愤世嫉俗者。愤世者抱怨现实，而成功者分析现实。</p><p>他正坐在回忆的马车里，他的生活重新开始了。</p><p>世事一场大梦，人生几度悲凉。</p><p>不要为自己持独特看法而感到害怕，因为我们现在所接受的常识，都曾是独特看法。</p><p>那些不能杀死我的，都使我更坚强。</p><p>你相信自己是什么样的人最后就会变成这样。</p><p>不能听命于自己的人，就要听命于他人。</p><p>人无夜草不富，马无夜草不肥。</p><p>夜草不肥劳病马，横财不富苦命人。</p><p>那些听不见音乐的人，认为那些跳舞的人疯了。</p><p>信仰就是不想知道真相是什么。</p><p>婚姻不幸福，不是因为缺乏爱，而是缺乏友谊。</p><p>谁终将声震人间，必长久深自缄默。</p><p>谁终将点燃闪电，必长久如云漂泊。</p><p>要破坏一件事，最刁钻的办法是，故意用歪理为这件事辩护。</p><p>一个伟大的人往往受到排挤，压抑，甚至被人斥为哗众取宠，而陷于孤独中。</p><p>假使有神，我怎能忍受我不是神，所以没有神。</p><p>走得最慢的人，只要他不丧失目标，也比漫无目的的徘徊的人走得快。</p><p>只要还有明天，今天就永远是起跑线。</p><p>命运负责洗牌，但玩牌的是我们自己。</p><p>迟到的青春是持久的青春。</p><p>人最终喜爱的，是自己的欲望，不是自己想要的东西。</p><p>君子慎独。</p><p>折磨你的从来都不是任何人的情绪，而是你心存幻想的期待，不要对一些事做过多的期待，也不要高估任何一段关系。</p><p>过错是暂时的遗憾，而错过则是永远的遗憾。</p><p>我们年轻的时候总是把创作的冲动误以为是创作的才华，总是把对孤独的恐惧误以为是对爱情的向往。</p><p>结婚无需太伟大的爱情，彼此不讨厌已够结婚的资本了。</p><p>借钱等于失去朋友，借书等于恋爱的开始。</p><p>我从来没有让我的学校影响我的教育。</p><p>一个人最危险的敌人是他自己的口舌。</p><p>喜剧，就是悲剧加上时间。</p><p>真诚的朋友，良好的书本和沉睡的良心，这就是理想的生活。</p><p>永远不要对不值得的人说实话。</p><p>好的婚姻是由两名宽恕者结合在一起。</p><p>首先，你要掌握事实，然后你才能随心所欲的误解它。</p><p>人生在世，必须善处境，万不可浪费时间，作无益的烦恼。</p><p>人一生可以做很多事，人一生只能做一件事。</p><p>不要为往事懊恼，而是要从往事中学习，听起来多么美好，要做到又何其难。</p>]]></content>
    
    
    <summary type="html">名人名言</summary>
    
    
    
    <category term="名人名言" scheme="https://maxmaxiang.github.io/categories/%E5%90%8D%E4%BA%BA%E5%90%8D%E8%A8%80/"/>
    
    
    <category term="名人名言" scheme="https://maxmaxiang.github.io/tags/%E5%90%8D%E4%BA%BA%E5%90%8D%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>清晰思考</title>
    <link href="https://maxmaxiang.github.io/2026/01/26/%E8%AF%BB%E5%90%8E%E6%84%9F/%E7%94%9F%E6%B4%BB%E4%B9%A0%E6%83%AF/%E6%B8%85%E6%99%B0%E6%80%9D%E8%80%83/"/>
    <id>https://maxmaxiang.github.io/2026/01/26/%E8%AF%BB%E5%90%8E%E6%84%9F/%E7%94%9F%E6%B4%BB%E4%B9%A0%E6%83%AF/%E6%B8%85%E6%99%B0%E6%80%9D%E8%80%83/</id>
    <published>2026-01-26T03:01:17.000Z</published>
    <updated>2026-02-03T13:40:15.168Z</updated>
    
    <content type="html"><![CDATA[<p>处于好的位置，你就能清晰地思考，而不是受环境影响、被形势所迫，匆忙做出决策。世界上最优秀的那些人总是能做出好的决策，原因之一就是他们很少因环境和形势所迫而匆忙做出任何决策。</p><p>如果能在选择位置的时候就胜人一筹，你就不需要比别人更聪明。任何人在处于有利位置时都会显得像个天才，而即使是最聪明的人，在处于不利位置时也会显得像个白痴。</p><p>要想改善判断，最好的办法就是选择好的初始位置。比如，资产负债表上有充足现金而且负债率低的公司，怎么选都是好的选择。</p><p>处于有利位置的人，时间会是他的朋友，他做事也就从容；反之，处于不利位置的人，时间是他的敌人，他做事会更加草率。当你处于有利位置时，条条大路都能通向成功；当你处于不利位置时，你可能只剩一条路可走。</p><p>◉情绪默认值：我们倾向于对情绪而不是对原因和事实做出反应。</p><p>◉自我默认值：我们倾向于对任何威胁到自我价值感或自己在团体等级制度中的地位的事情做出反应。</p><p>◉社会默认值：我们倾向于遵循更大的社会群体的规范。</p><p>◉惯性默认值：我们会养成习惯，追求舒适。我们倾向于抵制变化，我们更喜欢熟悉的想法、过程和环境。</p><p>大多数人在生活中都以为自己是正确的，而那些不以他们的方式看待事物的人都是错的。对于我们希望世界是什么样，和世界实际上是什么样，我们常常把二者混为一谈。</p><p>主题并不重要：但凡谈及政治，或者对他人的看法，或者我们的记忆，我们所说的都是正确的。我们错在把自己希望世界如何运转当成了世界实际的运转方式。</p><p>多年前，我在一场会议上了听到一段特别令人不快的讲话。讲话结束后，其他人开始鼓掌，我则有些迟疑，但还是有些犹豫不定地跟着鼓起了掌。如果不鼓掌，我会感觉很尴尬。 </p><p>社会默认值会激发一致性（从众性）。它会让我们仅仅因为“其他人是这样做的”而同意某种想法或与某种行为保持一致。它体现了“社会压力”一词的内涵：人人都想成为群体中的一员，害怕成为局外人，害怕被人蔑视，害怕让别人失望。</p><p>我们想融入群体的愿望源于我们的历史。高度的一致性可以让群体受益，也可以让个人受益。原始人在部落内生存不易，但在部落外则无法生存。我们需要群体，因此，在群体利益面前，我们的个人利益就退到了次要位置。尽管我们今天生活的世界与那时的世界已经大不相同，但我们仍然会比照他人，寻找一些关于“如何行事得体”的线索。</p><p>改善你的默认值的方法不是靠意志力，而要通过有意地创造出合适的环境来实现，在这个环境中，你所期望的行为会变成默认行为。</p><p>如果某个群体中的默认行为恰好是你期望的行为，你就加入这样的团体，这是有意识地创造出合适环境的有效方法。如果你想多读书，就加入读书俱乐部；如果你想多跑步，就加入跑步俱乐部；如果你想多锻炼，就请一个私教。</p><p>自信的人有勇气承认自己的缺点和不足，承认其他人在某些方面可能比自己做得更好，并会在需要帮助时寻求帮助。</p><p>无论我们相信什么，互联网都能让我们轻松地找到和我们观点一致的人。你可以很快、很容易地被有着同样错误认知的人所包围，但这并不能说明它们是对的。现实并不是一场人气比赛。周围的人告诉你你是对的，并不意味着你真的是对的。一旦跃入被群体所接纳的温水中，就很难再跳出来——又是社会默认值在发挥作用</p><p>承认自己是错的并不是软弱的表现，而是有力量的表现。承认别人的解释比你的更好，说明你有很强的适应能力。面对现实需要勇气；修正自己的想法，或是重新认识你以为自己知道的东西需要勇气；告诉自己什么事行不通需要勇气；接受有损自我形象的反馈也需要勇气。</p><p>高保真原则：获取“高保真”（HiFi）信息——接近信息来源，且未受他人偏见和兴趣影响的信息。</p><p>决策的质量与思考的质量直接相关，而思考的质量又与信息的质量直接相关。</p><p>每个默认值都会在让我们后悔的事中发挥一定的作用。社会默认值促使我们接手别人的目标，即使别人的生活环境与我们的大相径庭。惯性默认值鼓励我们继续追求我们过去曾追求的目标，即使我们已经意识到实现这些目标并不会让自己幸福。情绪默认值让我们去追寻当下吸引我们的东西，哪怕以牺牲追求更重要的长期目标为代价。而自我默认值会说服我们去追求财富、地位和权力之类的身外之物，哪怕以牺牲自己和周围人的健康和幸福为代价。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;处于好的位置，你就能清晰地思考，而不是受环境影响、被形势所迫，匆忙做出决策。世界上最优秀的那些人总是能做出好的决策，原因之一就是他们很少因环境和形势所迫而匆忙做出任何决策。&lt;/p&gt;
&lt;p&gt;如果能在选择位置的时候就胜人一筹，你就不需要比别人更聪明。任何人在处于有利位置时都会显</summary>
      
    
    
    
    <category term="读后感" scheme="https://maxmaxiang.github.io/categories/%E8%AF%BB%E5%90%8E%E6%84%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>爱因斯坦传</title>
    <link href="https://maxmaxiang.github.io/2026/01/26/%E8%AF%BB%E5%90%8E%E6%84%9F/%E4%BC%A0%E8%AE%B0/%E7%88%B1%E5%9B%A0%E6%96%AF%E5%9D%A6%E4%BC%A0/"/>
    <id>https://maxmaxiang.github.io/2026/01/26/%E8%AF%BB%E5%90%8E%E6%84%9F/%E4%BC%A0%E8%AE%B0/%E7%88%B1%E5%9B%A0%E6%96%AF%E5%9D%A6%E4%BC%A0/</id>
    <published>2026-01-25T18:01:17.000Z</published>
    <updated>2026-01-25T16:31:27.184Z</updated>
    
    <content type="html"><![CDATA[<p>爱因斯坦认为，学校教育与他理解的兵营训练总体上没有多大差异，两者都是教人服从组织，学会恪守不渝，机械接受，遏制天性发展的场所。<br>    他的父亲是一个小商人，但对大自然很感兴趣，曾在爱因斯坦5岁时向他展示罗盘，爱因斯坦当时就好奇为什么在空无一物的空间里有什么东西将物体吸引到同一方向。他的母亲幽默风趣，热爱艺术 酷爱庄严的古典音乐。她尤其痴迷贝多芬的奏鸣曲。他的叔叔是一个工程师，在技术领域是个行家里手，曾给他讲过数学和工程。<br>    爱因斯坦很晚才会说话。会说话后也是沉默寡言。爱因斯坦不喜欢跑步，跳高之类的剧烈运动，或许是因为身子太虚弱，他也不合群，终日沉浸在自己的冥想沉思中。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;爱因斯坦认为，学校教育与他理解的兵营训练总体上没有多大差异，两者都是教人服从组织，学会恪守不渝，机械接受，遏制天性发展的场所。&lt;br&gt;    他的父亲是一个小商人，但对大自然很感兴趣，曾在爱因斯坦5岁时向他展示罗盘，爱因斯坦当时就好奇为什么在空无一物的空间里有什么东西将物体</summary>
      
    
    
    
    <category term="读后感" scheme="https://maxmaxiang.github.io/categories/%E8%AF%BB%E5%90%8E%E6%84%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>牛顿传</title>
    <link href="https://maxmaxiang.github.io/2026/01/26/%E8%AF%BB%E5%90%8E%E6%84%9F/%E4%BC%A0%E8%AE%B0/%E7%89%9B%E9%A1%BF%E4%BC%A0/"/>
    <id>https://maxmaxiang.github.io/2026/01/26/%E8%AF%BB%E5%90%8E%E6%84%9F/%E4%BC%A0%E8%AE%B0/%E7%89%9B%E9%A1%BF%E4%BC%A0/</id>
    <published>2026-01-25T17:01:17.000Z</published>
    <updated>2026-01-25T16:30:10.458Z</updated>
    
    <content type="html"><![CDATA[<p>牛顿的童年：1岁丧父，3岁母亲改嫁并离开他去了隔壁村，他和外祖父祖母生活到11岁，然后继父去世，母亲回来，过了半年他就离开家去了寄宿学校，17岁时考上大学，母亲不想让他读大学想让他主持农村的事务，大学教授家访劝母亲放牛顿去读大学，并承诺奖学金，最后牛顿去读了大学。<br>    牛顿是一个孤僻，自闭，敏感，孤傲，自律，不愿意透露自己的成就和成果的人。在他30岁后逐渐发展出了交际能力，政治能力，逐渐在皇家学会和英国政界担任许多职务，但他童年带给他的人格特点依然留存，这也是他后来与许多科学家产生冲突的原因。<br>    牛顿并不是无性恋，而是在年轻时没有掌握人际交往能力，处理亲密关系能力，他中年时沉迷于他的事业，甚至撰写《原理》时是007的作息，到了经常忘记吃饭的程度，这段经历也导致了他得了胃溃疡和胃炎。中老年时忙于政治，他获得了许多职务如英国造币厂厂主和皇家学会主席。<br>    老年时因为对统一场论没有任何进度的失望转而几乎放弃科研</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;牛顿的童年：1岁丧父，3岁母亲改嫁并离开他去了隔壁村，他和外祖父祖母生活到11岁，然后继父去世，母亲回来，过了半年他就离开家去了寄宿学校，17岁时考上大学，母亲不想让他读大学想让他主持农村的事务，大学教授家访劝母亲放牛顿去读大学，并承诺奖学金，最后牛顿去读了大学。&lt;br&gt; </summary>
      
    
    
    
    <category term="读后感" scheme="https://maxmaxiang.github.io/categories/%E8%AF%BB%E5%90%8E%E6%84%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>部署Vue3项目到生产K8s</title>
    <link href="https://maxmaxiang.github.io/2025/12/26/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%87%AF%E4%BA%9A/%E9%83%A8%E7%BD%B2vue3%E9%A1%B9%E7%9B%AE%E5%88%B0%E7%94%9F%E4%BA%A7k8s/"/>
    <id>https://maxmaxiang.github.io/2025/12/26/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%87%AF%E4%BA%9A/%E9%83%A8%E7%BD%B2vue3%E9%A1%B9%E7%9B%AE%E5%88%B0%E7%94%9F%E4%BA%A7k8s/</id>
    <published>2025-12-26T04:23:58.000Z</published>
    <updated>2025-12-26T13:52:16.579Z</updated>
    
    <content type="html"><![CDATA[<h1 id="部署Vue3项目到生产K8s"><a href="#部署Vue3项目到生产K8s" class="headerlink" title="部署Vue3项目到生产K8s"></a>部署Vue3项目到生产K8s</h1><h2 id="1-配置Node-js和Nginx基础镜像"><a href="#1-配置Node-js和Nginx基础镜像" class="headerlink" title="1. 配置Node.js和Nginx基础镜像"></a>1. 配置Node.js和Nginx基础镜像</h2><p>准备Node.js 20和Nginx的基础镜像，用于构建和运行Vue3项目。</p><h2 id="2-Nexus新建NPM仓库"><a href="#2-Nexus新建NPM仓库" class="headerlink" title="2. Nexus新建NPM仓库"></a>2. Nexus新建NPM仓库</h2><p>在Nexus中创建一个专门用于存储npm依赖的仓库，例如名为<code>vue3-npm</code>的仓库。</p><h2 id="3-批量上传NPM依赖到Nexus私服"><a href="#3-批量上传NPM依赖到Nexus私服" class="headerlink" title="3. 批量上传NPM依赖到Nexus私服"></a>3. 批量上传NPM依赖到Nexus私服</h2><p>将项目所需的npm依赖包批量上传到Nexus私服中，以加速构建过程并确保依赖的可用性。</p><h2 id="4-新建流水线"><a href="#4-新建流水线" class="headerlink" title="4. 新建流水线"></a>4. 新建流水线</h2><p>创建一个Jenkins流水线脚本，实现从代码拉取到K8s部署的全自动化流程。</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br></pre></td><td class="code"><pre><span class="line">pipeline &#123;</span><br><span class="line">    agent any</span><br><span class="line">    tools &#123;</span><br><span class="line">        nodejs <span class="string">&#x27;node20&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    environment &#123;</span><br><span class="line">        docker_directory = <span class="string">&#x27;docker&#x27;</span></span><br><span class="line">        frontend_dir = <span class="string">&#x27;xjkyGPT-web&#x27;</span></span><br><span class="line">        serverport = <span class="string">&#x27;80&#x27;</span>  <span class="comment">// 前端服务端口，通常为80</span></span><br><span class="line">    &#125;</span><br><span class="line">    stages &#123;</span><br><span class="line">        stage(<span class="string">&#x27;scm&#x27;</span>) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                checkout([<span class="attr">$class:</span> <span class="string">&#x27;GitSCM&#x27;</span>, <span class="attr">branches:</span> [[<span class="attr">name:</span> <span class="string">&#x27;$&#123;branch&#125;&#x27;</span>]], <span class="attr">doGenerateSubmoduleConfigurations:</span> <span class="literal">false</span>, <span class="attr">extensions:</span> [], <span class="attr">submoduleCfg:</span> [], <span class="attr">userRemoteConfigs:</span> [[<span class="attr">credentialsId:</span> <span class="string">&#x27;xjcares_git&#x27;</span>, <span class="attr">url:</span> <span class="string">&#x27;http://172.31.70.132:33788/xjcares/xjkygpt.git&#x27;</span>]]])</span><br><span class="line">                sh <span class="string">&#x27;echo \&#x27;nodefinished:&lt;\&#x27;$(date +%Y-%m-%d\\ %H:%M:%S)\&#x27;&gt;\&#x27;&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">              </span><br><span class="line">     stage(<span class="string">&#x27;Build Frontend&#x27;</span>) &#123;</span><br><span class="line">    steps &#123;</span><br><span class="line">        sh <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        cd $&#123;frontend_dir&#125;</span></span><br><span class="line"><span class="string">        pwd</span></span><br><span class="line"><span class="string">        # 备份原始 package-lock.json (如果存在)，以防 npm ci 修改它</span></span><br><span class="line"><span class="string">        if [ -f package-lock.json ]; then</span></span><br><span class="line"><span class="string">            cp package-lock.json package-lock.json.bak</span></span><br><span class="line"><span class="string">        fi</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        rm -rf node_modules</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        # 使用Node.js 20容器构建，并在容器内配置npm指向Nexus</span></span><br><span class="line"><span class="string">        # 关键修改1: -w /app (而不是 /app/xjkyGPT-web)</span></span><br><span class="line"><span class="string">        docker run --rm -v $(pwd):/app -w /app 172.31.10.118/library/node:20-alpine sh -c &quot;</span></span><br><span class="line"><span class="string">            # 在容器内也创建 .npmrc 文件</span></span><br><span class="line"><span class="string">            # 关键修改2: 使用 //registry-url/:_authToken 格式</span></span><br><span class="line"><span class="string">            cat &gt; .npmrc &lt;&lt;INNEREOF</span></span><br><span class="line"><span class="string">registry=http://172.31.70.135:8081/repository/vue3-npm/</span></span><br><span class="line"><span class="string">//172.31.70.135:8081/repository/vue3-npm/:_authToken=YWRtaW46eGpreUAxMjMsLg==</span></span><br><span class="line"><span class="string">fetch-retries=3</span></span><br><span class="line"><span class="string">fetch-retry-factor=1.5</span></span><br><span class="line"><span class="string">fetch-retry-maxtimeout=60000</span></span><br><span class="line"><span class="string">fetch-retry-mintimeout=10000</span></span><br><span class="line"><span class="string">INNEREOF</span></span><br><span class="line"><span class="string">            </span></span><br><span class="line"><span class="string">            # 查看 .npmrc 内容以确认</span></span><br><span class="line"><span class="string">            echo &#x27;--- .npmrc contents ---&#x27;</span></span><br><span class="line"><span class="string">            cat .npmrc</span></span><br><span class="line"><span class="string">            echo &#x27;-----------------------&#x27;</span></span><br><span class="line"><span class="string">            </span></span><br><span class="line"><span class="string">            # 查看当前目录内容 (现在应该是 xjkyGPT-web 的内容)</span></span><br><span class="line"><span class="string">            echo &#x27;--- Current directory contents ---&#x27;</span></span><br><span class="line"><span class="string">            ls -la</span></span><br><span class="line"><span class="string">            echo &#x27;----------------------------------&#x27;</span></span><br><span class="line"><span class="string">            </span></span><br><span class="line"><span class="string">            # 查看 package.json 以确认项目结构</span></span><br><span class="line"><span class="string">            echo &#x27;--- package.json ---&#x27;</span></span><br><span class="line"><span class="string">            cat package.json</span></span><br><span class="line"><span class="string">            echo &#x27;------------------&#x27;</span></span><br><span class="line"><span class="string">            </span></span><br><span class="line"><span class="string">            # 安装依赖 (使用 Nexus 私服)</span></span><br><span class="line"><span class="string">            npm ci --registry=http://172.31.70.135:8081/repository/vue3-npm/ --unsafe-perm=true --allow-root</span></span><br><span class="line"><span class="string">            </span></span><br><span class="line"><span class="string">            # 执行构建</span></span><br><span class="line"><span class="string">            npm run build</span></span><br><span class="line"><span class="string">        &quot;</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        sh <span class="string">&#x27;echo \&#x27;nodefinished:&lt;\&#x27;$(date +%Y-%m-%d\\ %H:%M:%S)\&#x27;&gt;\&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line">        stage(<span class="string">&#x27;build and push image&#x27;</span>) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                sh <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">                docker login -u admin -p Harbor12345 172.31.10.118</span></span><br><span class="line"><span class="string">                cd $&#123;frontend_dir&#125;</span></span><br><span class="line"><span class="string">                </span></span><br><span class="line"><span class="string">                # 生成唯一tag，使用时间戳+构建号</span></span><br><span class="line"><span class="string">                BUILD_TAG=$(date +%Y%m%d-%H%M%S)-$&#123;BUILD_NUMBER&#125;</span></span><br><span class="line"><span class="string">                REPOSITORY=172.31.10.118/xjcares/$&#123;module&#125;-frontend:$&#123;BUILD_TAG&#125;</span></span><br><span class="line"><span class="string">                </span></span><br><span class="line"><span class="string">                # 创建Dockerfile用于构建前端镜像</span></span><br><span class="line"><span class="string">                cat &gt; Dockerfile &lt;&lt;EOF</span></span><br><span class="line"><span class="string">                FROM 172.31.10.118/library/nginx:alpine</span></span><br><span class="line"><span class="string">                ENV TZ=PRC</span></span><br><span class="line"><span class="string">                RUN ln -snf /usr/share/zoneinfo/\$TZ /etc/localtime &amp;&amp; echo \$TZ &gt; /etc/timezone</span></span><br><span class="line"><span class="string">                COPY dist/ /usr/share/nginx/html/</span></span><br><span class="line"><span class="string">                COPY nginx.conf /etc/nginx/conf.d/default.conf</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="string">                </span></span><br><span class="line"><span class="string">if [ ! -f nginx.conf ]; then</span></span><br><span class="line"><span class="string">    cat &gt; nginx.conf &lt;&lt;&#x27;NGINXEOF&#x27;</span></span><br><span class="line"><span class="string">events &#123;</span></span><br><span class="line"><span class="string">    worker_connections 1024;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">http &#123;</span></span><br><span class="line"><span class="string">    include /etc/nginx/mime.types;</span></span><br><span class="line"><span class="string">    default_type application/octet-stream;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    server &#123;</span></span><br><span class="line"><span class="string">        listen 80;</span></span><br><span class="line"><span class="string">        root /usr/share/nginx/html;</span></span><br><span class="line"><span class="string">        index index.html;</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        # 代理 API 请求到后端服务</span></span><br><span class="line"><span class="string">        location /api/ &#123;</span></span><br><span class="line"><span class="string">    # 去掉 proxy_pass 末尾的斜杠</span></span><br><span class="line"><span class="string">    proxy_pass http://gateway-service:8888;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    # 添加重写规则，去掉 /api/ 前缀</span></span><br><span class="line"><span class="string">    rewrite ^/api/(.*)$ /$1 break;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    proxy_set_header Host $host;</span></span><br><span class="line"><span class="string">    proxy_set_header X-Real-IP $remote_addr;</span></span><br><span class="line"><span class="string">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span><br><span class="line"><span class="string">    proxy_set_header X-Forwarded-Proto $scheme;</span></span><br><span class="line"><span class="string">    proxy_connect_timeout 60s;</span></span><br><span class="line"><span class="string">    proxy_send_timeout 60s;</span></span><br><span class="line"><span class="string">    proxy_read_timeout 60s;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        # 处理Vue Router History模式</span></span><br><span class="line"><span class="string">        location / &#123;</span></span><br><span class="line"><span class="string">            try_files $uri $uri/ /index.html;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        # 静态资源缓存 - FIXED: escaped backslash</span></span><br><span class="line"><span class="string">        location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ &#123;</span></span><br><span class="line"><span class="string">            expires 1y;</span></span><br><span class="line"><span class="string">            add_header Cache-Control &quot;public, immutable&quot;;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">NGINXEOF</span></span><br><span class="line"><span class="string">fi</span></span><br><span class="line"><span class="string">                </span></span><br><span class="line"><span class="string">                docker build -t $REPOSITORY .</span></span><br><span class="line"><span class="string">                docker push $REPOSITORY</span></span><br><span class="line"><span class="string">                </span></span><br><span class="line"><span class="string">                # 将镜像tag保存到workspace根目录下的文件</span></span><br><span class="line"><span class="string">                echo &quot;$REPOSITORY&quot; &gt; ../IMAGE_TAG.txt</span></span><br><span class="line"><span class="string">                </span></span><br><span class="line"><span class="string">                docker logout 172.31.10.118</span></span><br><span class="line"><span class="string">                docker rmi $REPOSITORY</span></span><br><span class="line"><span class="string">                &#x27;&#x27;&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        stage(<span class="string">&#x27;deploy&#x27;</span>) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                kubeconfig(<span class="attr">caCertificate:</span> <span class="string">&#x27;&#x27;</span>, <span class="attr">credentialsId:</span> <span class="string">&#x27;snowlotus-kubeconfig&#x27;</span>, <span class="attr">serverUrl:</span> <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">                    sh <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">                    pwd</span></span><br><span class="line"><span class="string">                    </span></span><br><span class="line"><span class="string">                    # 从workspace根目录读取IMAGE_TAG.txt</span></span><br><span class="line"><span class="string">                    NEW_IMAGE_TAG=$(cat IMAGE_TAG.txt)</span></span><br><span class="line"><span class="string">                    </span></span><br><span class="line"><span class="string">                    # 创建K8s部署YAML文件</span></span><br><span class="line"><span class="string">                    cat &gt; frontend-deployment.yaml &lt;&lt;EOF</span></span><br><span class="line"><span class="string">                apiVersion: apps/v1</span></span><br><span class="line"><span class="string">                kind: Deployment</span></span><br><span class="line"><span class="string">                metadata:</span></span><br><span class="line"><span class="string">                  name: $&#123;module&#125;-frontend</span></span><br><span class="line"><span class="string">                  labels:</span></span><br><span class="line"><span class="string">                    app: $&#123;module&#125;-frontend</span></span><br><span class="line"><span class="string">                spec:</span></span><br><span class="line"><span class="string">                  replicas: $&#123;instanceNum&#125;</span></span><br><span class="line"><span class="string">                  selector:</span></span><br><span class="line"><span class="string">                    matchLabels:</span></span><br><span class="line"><span class="string">                      app: $&#123;module&#125;-frontend</span></span><br><span class="line"><span class="string">                  template:</span></span><br><span class="line"><span class="string">                    metadata:</span></span><br><span class="line"><span class="string">                      labels:</span></span><br><span class="line"><span class="string">                        app: $&#123;module&#125;-frontend</span></span><br><span class="line"><span class="string">                    spec:</span></span><br><span class="line"><span class="string">                      containers:</span></span><br><span class="line"><span class="string">                      - name: $&#123;module&#125;-frontend</span></span><br><span class="line"><span class="string">                        image: $NEW_IMAGE_TAG</span></span><br><span class="line"><span class="string">                        ports:</span></span><br><span class="line"><span class="string">                        - containerPort: 80</span></span><br><span class="line"><span class="string">                        resources:</span></span><br><span class="line"><span class="string">                          requests:</span></span><br><span class="line"><span class="string">                            memory: $&#123;memory&#125;</span></span><br><span class="line"><span class="string">                            cpu: &quot;0.1&quot;</span></span><br><span class="line"><span class="string">                          limits:</span></span><br><span class="line"><span class="string">                            memory: $&#123;memory&#125;</span></span><br><span class="line"><span class="string">                            cpu: &quot;0.5&quot;</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="string">                    </span></span><br><span class="line"><span class="string">                    # 创建Service YAML文件</span></span><br><span class="line"><span class="string">                    cat &gt; frontend-service.yaml &lt;&lt;EOF</span></span><br><span class="line"><span class="string">                apiVersion: v1</span></span><br><span class="line"><span class="string">                kind: Service</span></span><br><span class="line"><span class="string">                metadata:</span></span><br><span class="line"><span class="string">                  name: $&#123;module&#125;-frontend-svc</span></span><br><span class="line"><span class="string">                  labels:</span></span><br><span class="line"><span class="string">                    app: $&#123;module&#125;-frontend</span></span><br><span class="line"><span class="string">                spec:</span></span><br><span class="line"><span class="string">                  selector:</span></span><br><span class="line"><span class="string">                    app: $&#123;module&#125;-frontend</span></span><br><span class="line"><span class="string">                  ports:</span></span><br><span class="line"><span class="string">                  - protocol: TCP</span></span><br><span class="line"><span class="string">                    port: 80</span></span><br><span class="line"><span class="string">                    targetPort: 80</span></span><br><span class="line"><span class="string">                    nodePort: 31833</span></span><br><span class="line"><span class="string">                  type: NodePort</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="string">                    </span></span><br><span class="line"><span class="string">                    # 应用新配置</span></span><br><span class="line"><span class="string">                    kubectl delete -f frontend-deployment.yaml --ignore-not-found=true</span></span><br><span class="line"><span class="string">                    kubectl delete -f frontend-service.yaml --ignore-not-found=true</span></span><br><span class="line"><span class="string">                    kubectl apply -f frontend-deployment.yaml</span></span><br><span class="line"><span class="string">                    kubectl apply -f frontend-service.yaml</span></span><br><span class="line"><span class="string">                    &#x27;&#x27;&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-项目中新建-npmrc文件"><a href="#5-项目中新建-npmrc文件" class="headerlink" title="5. 项目中新建.npmrc文件"></a>5. 项目中新建.npmrc文件</h2><p>在前端项目的根目录下创建<code>.npmrc</code>文件，配置npm私服地址，使得本地、测试环境和生产环境都能统一使用私服进行依赖安装。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">registry=http://172.31.70.135:8081/repository/vue3-npm/</span><br><span class="line">//172.31.70.135:8081/repository/vue3-npm/:_authToken=YWRtaW46eGpreUAxMjMsLg==</span><br><span class="line">fetch-retries=3</span><br><span class="line">fetch-retry-factor=1.5</span><br><span class="line">fetch-retry-maxtimeout=60000</span><br><span class="line">fetch-retry-mintimeout=10000</span><br></pre></td></tr></table></figure><h2 id="6-结果"><a href="#6-结果" class="headerlink" title="6. 结果"></a>6. 结果</h2><p>整个流程实现了在流水线中自动构建、打包、封装成镜像，并部署到K8s集群。无需手动上传<code>node_modules</code>，无需手动配置Nginx的前端路由，前端项目作为一个独立的K8s Pod运行。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;部署Vue3项目到生产K8s&quot;&gt;&lt;a href=&quot;#部署Vue3项目到生产K8s&quot; class=&quot;headerlink&quot; title=&quot;部署Vue3项目到生产K8s&quot;&gt;&lt;/a&gt;部署Vue3项目到生产K8s&lt;/h1&gt;&lt;h2 id=&quot;1-配置Node-js和Nginx</summary>
      
    
    
    
    <category term="计算机" scheme="https://maxmaxiang.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>平衡再生产、生产力提升和资本性收益</title>
    <link href="https://maxmaxiang.github.io/2025/12/24/%E6%9D%82%E8%B0%88/%E5%B9%B3%E8%A1%A1%E5%86%8D%E7%94%9F%E4%BA%A7%E3%80%81%E7%94%9F%E4%BA%A7%E5%8A%9B%E6%8F%90%E5%8D%87%E5%92%8C%E8%B5%84%E6%9C%AC%E6%80%A7%E6%94%B6%E7%9B%8A/"/>
    <id>https://maxmaxiang.github.io/2025/12/24/%E6%9D%82%E8%B0%88/%E5%B9%B3%E8%A1%A1%E5%86%8D%E7%94%9F%E4%BA%A7%E3%80%81%E7%94%9F%E4%BA%A7%E5%8A%9B%E6%8F%90%E5%8D%87%E5%92%8C%E8%B5%84%E6%9C%AC%E6%80%A7%E6%94%B6%E7%9B%8A/</id>
    <published>2025-12-24T14:23:58.000Z</published>
    <updated>2025-12-26T16:15:57.889Z</updated>
    
    <content type="html"><![CDATA[<p>当人获得了钱以后，就面临货币功能的选择：选择一：恢复再生产；选择二：提高生产力水平；选择三：获取资本性收益。</p><p>恢复再生产，最基本的是满足基本的吃穿住行的要求，但恢复再生产也可以有极为奢华的恢复，比如豪车别墅名牌包包等。提高生产力水平，主要指将自身作为生产力工具的产出效率的提升，不同人对于效率提升的理解不同，比如可以是专业工作能力的提升，也可以是察言观色，组织管理等能力的提升，也可以是去整容、医美、健身等；获取资本性收益，主要包括投资分红/股票/基金/债券/存款等收益。对这3者分配的比例，短期来看影响不大，但长期来说对人的影响是本质的。</p><p>实际上人对提高生产力水平的需求是无尽的，毕生的。人在人生的不同阶段需要提升不同的能力，其中包含了无形的认识水平，有形的实际技能。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;当人获得了钱以后，就面临货币功能的选择：选择一：恢复再生产；选择二：提高生产力水平；选择三：获取资本性收益。&lt;/p&gt;
&lt;p&gt;恢复再生产，最基本的是满足基本的吃穿住行的要求，但恢复再生产也可以有极为奢华的恢复，比如豪车别墅名牌包包等。提高生产力水平，主要指将自身作为生产力工具</summary>
      
    
    
    
    <category term="杂谈" scheme="https://maxmaxiang.github.io/categories/%E6%9D%82%E8%B0%88/"/>
    
    
  </entry>
  
  <entry>
    <title>双性化理论</title>
    <link href="https://maxmaxiang.github.io/2025/12/24/%E6%9D%82%E8%B0%88/%E5%8F%8C%E6%80%A7%E5%8C%96%E7%90%86%E8%AE%BA/"/>
    <id>https://maxmaxiang.github.io/2025/12/24/%E6%9D%82%E8%B0%88/%E5%8F%8C%E6%80%A7%E5%8C%96%E7%90%86%E8%AE%BA/</id>
    <published>2025-12-24T04:23:58.000Z</published>
    <updated>2025-12-26T11:30:25.274Z</updated>
    
    <content type="html"><![CDATA[<p>所谓双性化，就是指一个人兼有男性化与女性化的气质。双性化者并非变态，相反众多研究表明，双性化者兼有男性和女性较为优良的品质，往往具有更强的社会适应能力。</p><p>如果一个男人展现的仅仅只是她的男性气质，那么他的女性气质就会始终遗留在无意识中而保持其原始未开化的面貌，这就使他的无意识有一种软弱、敏感的气质。自以为这样，所以那些表面上最富男子气的人，内心却往往十分的软弱和柔顺。而那些在日常生活中过多地展示其女性气质的女人，在无意识深处却十分顽强和任性，具有男人通常在其外显行为中表现出来的气质。</p><p>男性气质多表现薇独立、勇敢、自信而且具有支配感和成就感，喜欢竞争性强的活动。女性气质多表现为温和、敏感、被动、缺乏自信和果断精神。</p><p>大部分研究都认为，双性化的个体具有较高的自尊、较少的心理疾病、较好的社会适应能力，而且双性化的人比其他类型的人更受欢迎。一项研究显示，双性化的儿童和成人拥有更高水平的自尊，而且在多样化的情境下适应性更强(Taylor &amp; Hall，1982)。另一项研究指出，双性化个体更易与异性建立起亲密关系，可能是由于他们同时具有女性和男性积极的特质，能更好地理解、接受彼此间的差异(Ganong &amp; Coleman，1985)。也有研究揭示，具有积极的双性化特征的人在心理上更健康，感到更快乐，幸福感更强(Woodhill &amp; Samuels，2003)。<br>我国研究者余小芳(2004)采用问卷调查与内隐联想测验相结合的研究方法，探讨性别角色与心理健康、社会适应的关系。结果发现，双性化类型对男女正性词加工都较好，男性化类型和女性化类型分别只对男性正性词和女性正性词加工较好，而未分化类型对两种词加工都较慢；四种性别角色在心理健康和社会适应性方面都存在显著差异，双性化类型的学生心理健康水平最高和社会适应性最好，是最佳的性别角色模式。<br>马锦华(2001)在对大学生双性化人格模式与心理健康关系的研究中发现，双性化个体具有比较高的心理健康水平，女性化、未分化个体表现为自信程度偏低，缺乏安全感，从理论上讲，其心理健康水平偏低。余小芳(2004)的研究也发现，双性化类型的学生不管在心理健康方面，还是在社会适应性方面，都优于男性化类型、女性化类型与未分化类型的学生，这说明双性化类型是最理想的性别角色模式。同时，该研究还指出，未分化类型是最不理想的性别角色，女性化类型在心理健康与社会适应性方面也较低，男性化类型在这两方面上都不错，仅次于双性化类型。</p><h3 id="拓展阅读：性别角色量表"><a href="#拓展阅读：性别角色量表" class="headerlink" title="拓展阅读：性别角色量表"></a><strong>拓展阅读：性别角色量表</strong></h3><p>美国心理学家贝姆(Bem)于1974年发表了性别角色量表(Bem Sex Role Inventory，BSRI)，这是第一个用来测量相互独立的性别角色的测验工具。</p><p>表中一共有60个描述性词语。请你根据自身的情况，逐条以从“1”到“7”的尺度给自己打分，其中，“1”代表“从不”或“几乎不符合”，“7”代表“总是”或“完全符合”。</p><p><strong>性别角色量表</strong></p><div class="table-container"><table><thead><tr><th>题号</th><th>描述词语</th><th>题号</th><th>描述词语</th><th>题号</th><th>描述词语</th></tr></thead><tbody><tr><td>1</td><td>自我信赖</td><td>21</td><td>可信赖的</td><td>41</td><td>温和的</td></tr><tr><td>2</td><td>柔顺</td><td>22</td><td>善于分析的</td><td>42</td><td>庄严的</td></tr><tr><td>3</td><td>乐于助人</td><td>23</td><td>表示同情的</td><td>43</td><td>愿意表明立场的</td></tr><tr><td>4</td><td>维护自己的信念</td><td>24</td><td>嫉妒的</td><td>44</td><td>温柔</td></tr><tr><td>5</td><td>快活的</td><td>25</td><td>具有领导能力的</td><td>45</td><td>友好的</td></tr><tr><td>6</td><td>忧郁的</td><td>26</td><td>对他人的需求敏感</td><td>46</td><td>具有侵犯性</td></tr><tr><td>7</td><td>独立的</td><td>27</td><td>诚实的</td><td>47</td><td>轻信的</td></tr><tr><td>8</td><td>害羞的</td><td>28</td><td>乐于冒险</td><td>48</td><td>无能的</td></tr><tr><td>9</td><td>诚心诚意</td><td>29</td><td>有理解力的</td><td>49</td><td>像个领导</td></tr><tr><td>10</td><td>活跃的</td><td>30</td><td>守口如瓶</td><td>50</td><td>幼稚的</td></tr><tr><td>11</td><td>情意绵绵</td><td>31</td><td>易于做出决策的</td><td>51</td><td>适应性强的</td></tr><tr><td>12</td><td>夸耀的</td><td>32</td><td>有同情心的</td><td>52</td><td>个人主义的</td></tr><tr><td>13</td><td>武断的</td><td>33</td><td>忠厚老实</td><td>53</td><td>不讲粗俗的话</td></tr><tr><td>14</td><td>值得赞赏的</td><td>34</td><td>自足的</td><td>54</td><td>冷漠无情</td></tr><tr><td>15</td><td>幸福的</td><td>35</td><td>乐于安抚受伤的感情</td><td>55</td><td>具有竞争意识的</td></tr><tr><td>16</td><td>个性坚强的</td><td>36</td><td>自高自大</td><td>56</td><td>热爱孩子的</td></tr><tr><td>17</td><td>忠诚的</td><td>37</td><td>有支配力的</td><td>57</td><td>老练得体的</td></tr><tr><td>18</td><td>不可捉摸的</td><td>38</td><td>谈吐柔和的</td><td>58</td><td>雄心勃勃</td></tr><tr><td>19</td><td>强劲有力的</td><td>39</td><td>值得喜欢的</td><td>59</td><td>温文尔雅</td></tr><tr><td>20</td><td>女性的</td><td>40</td><td>男性的</td><td>60</td><td>保守</td></tr></tbody></table></div><p><strong>计分方法：</strong></p><ul><li><strong>男性化得分：</strong> 将以下项目（共14项）的得分相加后除以14： 1, 4, 7, 13, 16, 19, 22, 25, 28, 31, 43, 46, 55, 58</li><li><strong>女性化得分：</strong> 将以下项目（共12项）的得分相加后除以12： 11, 14, 17, 23, 26, 29, 32, 35, 41, 44, 56, 59</li></ul><p><strong>结果解释：</strong></p><ul><li><strong>双性化：</strong> 男性化得分 ≥ 4 且 女性化得分 ≥ 4。</li><li><strong>男性化：</strong> 男性化得分 ≥ 4 且 女性化得分 &lt; 4。</li><li><strong>女性化：</strong> 女性化得分 ≥ 4 且 男性化得分 &lt; 4。</li><li><strong>未分化：</strong> 男性化得分 &lt; 4 且 女性化得分 &lt; 4。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;所谓双性化，就是指一个人兼有男性化与女性化的气质。双性化者并非变态，相反众多研究表明，双性化者兼有男性和女性较为优良的品质，往往具有更强的社会适应能力。&lt;/p&gt;
&lt;p&gt;如果一个男人展现的仅仅只是她的男性气质，那么他的女性气质就会始终遗留在无意识中而保持其原始未开化的面貌，这</summary>
      
    
    
    
    <category term="杂谈" scheme="https://maxmaxiang.github.io/categories/%E6%9D%82%E8%B0%88/"/>
    
    
  </entry>
  
  <entry>
    <title>筚路维艰</title>
    <link href="https://maxmaxiang.github.io/2025/12/24/%E6%9D%82%E8%B0%88/%E7%AD%9A%E8%B7%AF%E7%BB%B4%E8%89%B0/"/>
    <id>https://maxmaxiang.github.io/2025/12/24/%E6%9D%82%E8%B0%88/%E7%AD%9A%E8%B7%AF%E7%BB%B4%E8%89%B0/</id>
    <published>2025-12-23T17:23:58.000Z</published>
    <updated>2025-12-24T01:24:52.291Z</updated>
    
    <content type="html"><![CDATA[<p>读了这段从建国到改开的许多细节的介绍后，对所谓左右问题有了更清晰的认识。从根本上说，右派的路线既是出于私心，也是出于左派路线的失败而转向。好和坏并不是水火不容，而是可以同时存在的，不仅可以同时存在在一个人上，还可以同时存在在一件事上。于私，老干部派有私心，而来福大酒店没有，可以说问心无愧；但于公，来福大酒店缺乏政治经验和政治智慧，对经济建设，制度建设，外交，军事等更是一窍不通，空有热情而没有手段；教员几次对于黄轩的表现非常失望，但又几次支持他，这引起了老干部派的不满。教员对于老干部派有私心不满，但又不得不依靠他们；对来福大酒店寄予厚望，但对他们的表现又非常失望。最终教员对于设计师的支持是因为他在外交，军事，经济建设，制度建设等都有建树。他是中苏论战的主力，在西南局的经济和制度建设也都不错，更不用说军事了。</p><p>教员早期曾支持包产到户，而且非常清楚集体公社的弊端和包产到户的优势；对于陈云，刘等人的见解也表示认同。但在后续国际形势的变化和国内政治风向的变化的共同影响下改变了方向，认为这股风有经济反过来影响政治的趋势，所以开始与老干部派产生矛盾。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;读了这段从建国到改开的许多细节的介绍后，对所谓左右问题有了更清晰的认识。从根本上说，右派的路线既是出于私心，也是出于左派路线的失败而转向。好和坏并不是水火不容，而是可以同时存在的，不仅可以同时存在在一个人上，还可以同时存在在一件事上。于私，老干部派有私心，而来福大酒店没有，</summary>
      
    
    
    
    <category term="杂谈" scheme="https://maxmaxiang.github.io/categories/%E6%9D%82%E8%B0%88/"/>
    
    
  </entry>
  
  <entry>
    <title>SpringBoot3生产K8s部署</title>
    <link href="https://maxmaxiang.github.io/2025/12/23/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%87%AF%E4%BA%9A/SpringBoot3%E7%94%9F%E4%BA%A7K8s%E9%83%A8%E7%BD%B2/"/>
    <id>https://maxmaxiang.github.io/2025/12/23/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%87%AF%E4%BA%9A/SpringBoot3%E7%94%9F%E4%BA%A7K8s%E9%83%A8%E7%BD%B2/</id>
    <published>2025-12-23T04:23:58.000Z</published>
    <updated>2025-12-24T01:23:02.811Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SpringBoot-3-生产-K8s-部署手册"><a href="#SpringBoot-3-生产-K8s-部署手册" class="headerlink" title="SpringBoot 3 生产 K8s 部署手册"></a>SpringBoot 3 生产 K8s 部署手册</h1><h2 id="1-Jenkins-全局工具配置"><a href="#1-Jenkins-全局工具配置" class="headerlink" title="1. Jenkins 全局工具配置"></a>1. Jenkins 全局工具配置</h2><div class="table-container"><table><thead><tr><th>工具</th><th>版本</th><th>安装方式</th><th>备注</th></tr></thead><tbody><tr><td>JDK</td><td>17</td><td>自动安装</td><td>命名 <code>jdk17</code></td></tr><tr><td>Maven</td><td>3.9.5</td><td>自动安装</td><td>命名 <code>maven3.9.5</code></td></tr></tbody></table></div><p><strong>路径</strong>：<br>Manage Jenkins → Global Tool Configuration → 分别新增 JDK &amp; Maven，<strong>Name 必须与 pipeline 中 tools 块保持一致</strong>。</p><hr><h2 id="2-基础镜像准备（openjdk-17-slim）"><a href="#2-基础镜像准备（openjdk-17-slim）" class="headerlink" title="2. 基础镜像准备（openjdk:17-slim）"></a>2. 基础镜像准备（openjdk:17-slim）</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 拉取官方镜像</span></span><br><span class="line">docker pull openjdk:17-slim</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 重打 tag（指向私有 Harbor）</span></span><br><span class="line">docker tag openjdk:17-slim 172.31.10.118/library/openjdk:17-slim</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 登录并推送</span></span><br><span class="line">docker login 172.31.10.118 -u admin -p Harbor12345</span><br><span class="line">docker push 172.31.10.118/library/openjdk:17-slim</span><br></pre></td></tr></table></figure><hr><h2 id="3-Jenkins-流水线（完整-Jenkinsfile）"><a href="#3-Jenkins-流水线（完整-Jenkinsfile）" class="headerlink" title="3. Jenkins 流水线（完整 Jenkinsfile）"></a>3. Jenkins 流水线（完整 <code>Jenkinsfile</code>）</h2><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">pipeline &#123;</span><br><span class="line">    agent any</span><br><span class="line"></span><br><span class="line">    tools &#123;</span><br><span class="line">        jdk <span class="string">&#x27;jdk17&#x27;</span></span><br><span class="line">        maven <span class="string">&#x27;maven3.9.5&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    environment &#123;</span><br><span class="line">        docker_directory = <span class="string">&#x27;docker&#x27;</span></span><br><span class="line">        serverport       = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    stages &#123;</span><br><span class="line">        stage(<span class="string">&#x27;SCM&#x27;</span>) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                checkout([<span class="attr">$class:</span> <span class="string">&#x27;GitSCM&#x27;</span>,</span><br><span class="line">                          <span class="symbol">branches:</span> [[<span class="attr">name:</span> <span class="string">&#x27;$&#123;branch&#125;&#x27;</span>]],</span><br><span class="line">                          <span class="symbol">doGenerateSubmoduleConfigurations:</span> <span class="literal">false</span>,</span><br><span class="line">                          <span class="symbol">extensions:</span> [],</span><br><span class="line">                          <span class="symbol">submoduleCfg:</span> [],</span><br><span class="line">                          <span class="symbol">userRemoteConfigs:</span> [[<span class="attr">credentialsId:</span> <span class="string">&#x27;xjcares_git&#x27;</span>,</span><br><span class="line">                                               <span class="symbol">url:</span> <span class="string">&#x27;http://172.31.70.132:33788/xjcares/xjkygpt.git&#x27;</span>]]])</span><br><span class="line">                sh <span class="string">&#x27;echo &quot;nodefinished:&lt;$(date +\&#x27;%Y-%m-%d %H:%M:%S\&#x27;)&gt;&quot;&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        stage(<span class="string">&#x27;Build core&#x27;</span>) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                sh <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">                cd core-paas-component</span></span><br><span class="line"><span class="string">                mvn clean deploy -Dmaven.test.skip=true -U</span></span><br><span class="line"><span class="string">                &#x27;&#x27;&#x27;</span></span><br><span class="line">                sh <span class="string">&#x27;echo &quot;nodefinished:&lt;$(date +\&#x27;%Y-%m-%d %H:%M:%S\&#x27;)&gt;&quot;&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        stage(<span class="string">&#x27;Build&#x27;</span>) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                sh <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">                cd $&#123;module&#125;</span></span><br><span class="line"><span class="string">                mvn clean package -Dmaven.test.skip=true -U</span></span><br><span class="line"><span class="string">                &#x27;&#x27;&#x27;</span></span><br><span class="line">                sh <span class="string">&#x27;echo &quot;nodefinished:&lt;$(date +\&#x27;%Y-%m-%d %H:%M:%S\&#x27;)&gt;&quot;&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        stage(<span class="string">&#x27;Build &amp; Push Image&#x27;</span>) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                sh <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">                docker login -u admin -p Harbor12345 172.31.10.118</span></span><br><span class="line"><span class="string">                cd $&#123;module&#125;/target</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                BUILD_TAG=$(date +%Y%m%d-%H%M%S)-$&#123;BUILD_NUMBER&#125;</span></span><br><span class="line"><span class="string">                REPOSITORY=172.31.10.118/xjcares/$&#123;module&#125;:$&#123;BUILD_TAG&#125;</span></span><br><span class="line"><span class="string">                JAR_FILE=$(ls *.jar | head -n 1)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                cat &gt; Dockerfile &lt;&lt;EOF</span></span><br><span class="line"><span class="string">FROM 172.31.10.118/library/openjdk:17-slim</span></span><br><span class="line"><span class="string">ENV TZ=PRC</span></span><br><span class="line"><span class="string">RUN ln -snf /usr/share/zoneinfo/\$TZ /etc/localtime &amp;&amp; echo \$TZ &gt; /etc/timezone</span></span><br><span class="line"><span class="string">ADD $&#123;JAR_FILE&#125; /$&#123;module&#125;.jar</span></span><br><span class="line"><span class="string">ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;-Xms$&#123;memory&#125;&quot;,&quot;-Xmx$&#123;memory&#125;&quot;,&quot;-Denv=pro&quot;,&quot;/$&#123;module&#125;.jar&quot;,&quot;--spring.profiles.active=prod&quot;]</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                docker build -t $REPOSITORY .</span></span><br><span class="line"><span class="string">                docker push $REPOSITORY</span></span><br><span class="line"><span class="string">                echo &quot;$REPOSITORY&quot; &gt; ../../IMAGE_TAG.txt</span></span><br><span class="line"><span class="string">                docker logout 172.31.10.118</span></span><br><span class="line"><span class="string">                docker rmi $REPOSITORY</span></span><br><span class="line"><span class="string">                &#x27;&#x27;&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        stage(<span class="string">&#x27;Deploy to K8s&#x27;</span>) &#123;</span><br><span class="line">            steps &#123;</span><br><span class="line">                kubeconfig(<span class="attr">caCertificate:</span> <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                           <span class="symbol">credentialsId:</span> <span class="string">&#x27;snowlotus-kubeconfig&#x27;</span>,</span><br><span class="line">                           <span class="symbol">serverUrl:</span> <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">                    sh <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">                    cd $&#123;module&#125;/target/classes</span></span><br><span class="line"><span class="string">                    prop_value=$(grep -w ^server.port application.properties | cut -d= -f2)</span></span><br><span class="line"><span class="string">                    cd ../../..</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                    NEW_IMAGE_TAG=$(cat IMAGE_TAG.txt)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                    sed -i &quot;s|IMAGE_PLACEHOLDER|$&#123;NEW_IMAGE_TAG&#125;|g&quot; podTemplate.yaml</span></span><br><span class="line"><span class="string">                    sed -i &quot;s|PODNAME|$&#123;module&#125;|g&quot;           podTemplate.yaml</span></span><br><span class="line"><span class="string">                    sed -i &quot;s|PORT|$&#123;prop_value&#125;|g&quot;          podTemplate.yaml</span></span><br><span class="line"><span class="string">                    sed -i &quot;s|INSTANCENUM|$&#123;instanceNum&#125;|g&quot;  podTemplate.yaml</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                    kubectl delete -f podTemplate.yaml --ignore-not-found=true</span></span><br><span class="line"><span class="string">                    kubectl apply  -f podTemplate.yaml</span></span><br><span class="line"><span class="string">                    &#x27;&#x27;&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    post &#123;</span><br><span class="line">        always &#123;</span><br><span class="line">            cleanWs()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="4-SpringBoot-2-→-3"><a href="#4-SpringBoot-2-→-3" class="headerlink" title="4. SpringBoot 2 → 3"></a>4. SpringBoot 2 → 3</h2>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;SpringBoot-3-生产-K8s-部署手册&quot;&gt;&lt;a href=&quot;#SpringBoot-3-生产-K8s-部署手册&quot; class=&quot;headerlink&quot; title=&quot;SpringBoot 3 生产 K8s 部署手册&quot;&gt;&lt;/a&gt;SpringBoot 3 生</summary>
      
    
    
    
    <category term="计算机" scheme="https://maxmaxiang.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>婚姻如何选择</title>
    <link href="https://maxmaxiang.github.io/2025/12/20/%E6%9D%82%E8%B0%88/%E5%A9%9A%E5%A7%BB%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9/"/>
    <id>https://maxmaxiang.github.io/2025/12/20/%E6%9D%82%E8%B0%88/%E5%A9%9A%E5%A7%BB%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9/</id>
    <published>2025-12-20T04:23:58.000Z</published>
    <updated>2025-12-20T04:55:44.410Z</updated>
    
    <content type="html"><![CDATA[<p>我一生都在学习如何避免愚蠢。在投资上，我们通过逆向思维获得了巨大的成功—不去苦苦追寻如何变得伟大，而是孜孜不倦地研究如何保证变得痛苦、失败和破产。那么，让我们把同样的逻辑应用到“如何通过选择一个伴侣来确保你的人生充满摩擦、停滞并最终走向遗憾的平庸”呢?很简单:找一个对你的缺点无限包容,但从不挑战你进步的人;你们要共同建造一个温暖的、密不透风的“回声室”，里面只有彼此的附和与安慰;优先考虑外表吸引力或短暂的情绪价值，胜过内在的品格与智慧—毕竟，未来几十年的风风雨雨，一张漂亮的脸蛋和几句甜言蜜语足以抵挡;最重要的一点，确保你的伴侣在关键维度上—无论是见识、品格还是韧性—都不如你，这样你才能永远享受居高临下的安全感，永远不必面对被对方映照出的自身的渺小。<br>    听起来很荒谬，对吗?但这就是绝大多数人在无意中遵循的剧本。他们害怕一个更优秀的伴侣—那种优秀会成为一种持续的压力，迫使你离开舒适区，迫使你承认自己的不足，迫使你成长。人们内心深处抗拒这种压力，于是选择了那条更容易的路:向下兼容。这无疑是人生规划中最隐蔽、代价最高昂的陷阱之一。<br>    现在，让我换个方式，用我们更熟悉的投资语言来谈谈婚姻。你们都知道，我们一直在寻找具有宽阔“护城河”的企业。那么，一个人—一个你将要与之共度一生的伙伴，他的“护城河”是什么?是转瞬即逝的青春容貌吗?是迎合你所有喜好的顺从性吗?不，真正的护城河是他的品格根基，是他在逆境中展现的韧性，是他的学习能力和知识好奇心，是他看待世界时所运用的理性框架。这些特质不会随着时间贬值，反而会像陈年的美酒，愈久弥醇。<br>我曾说过，要得到你想要的某样东西，最可靠的办法是让你自己配得上它。这在婚姻领域是绝对的真理。指望找到一个品格高尚、智慧超群的伴侣，而你自己却停留在肤浅、易怒和懒惰的层面，这概率不会比你在大街上捡到一张没记名的百万美元支票高多少。你必须先开始锻造自己，成为一个更好的“资产”，才能吸引并留住另一个优质的资产。优质资产会相互吸引并形成协同效应，产生 1+1&gt;10 的复利结果。</p><p>让我告诉你们一个秘密:我年轻时也并非像现在这样思考，我也曾犯过几乎所有年轻人都会犯的错误—看重一些表面的、短暂的特质。是生活、是教训、是无数次头撞南墙的痛苦，让我逐渐看清了什么才是真正重要的。<br>    南希，我的妻子，她拥有的是一种我称之为“定锚”般的智慧。在我因为市场的疯狂而可能偏离航向时，她能用一个问题、一个观察，让我瞬间清醒。她不是我的附和者，她是我思想的磨刀石，有时甚至是我的“现实检验官”。这引出了另一个关键概念—Lollapalooza效应:多个心理倾向同时发力，指向同一个结果，形成巨大的合力。一个糟糕的伴侣可以同时激发你的贪婪(对舒适的无度索取)、恐惧(害怕失去所谓的安全感)、妒(无休止的比较)、自恋(认为自己的不幸都是对方造成的)……这些心理倾向汇聚在一起，足以摧毁你人生其他所有领域的努力。反过来，一个优秀的伴侣则会激发你的责任感(想要配得上他)、勇气(面对挑战)、理性(共同解决问题)和耐心(经营长期关系)。这正如正负两种 Lollapalooza效应，将把你的人生带往截然不同的方向。<br>    你们想想看:你的伴侣，是你每天都要面对的最重要的“环境”。这个环境是滋养你的，还是消耗你的?他是在你认知飞轮启动时为你加速，还是在你想启动时不断给你施加摩擦力?我见过太多才华横溢的人，被一段消耗型的关系慢慢拖垮—他们的能量和注意力被家庭内部的纷争无尽地汲取，最终在事业和人生成就上远未达到他们本应达到的高度。这无疑是最大的悲剧之-不是死于明确的攻击，而是死于缓慢的窒息。<br>    所以，当我建议“找一个比你优秀的伴侣”时，我指的并非世俗意义上的学历、职位和财富。我指的是，在那些构成幸福与成功基石的根本品质上，对方比你更强大。比如，他可能比你更富有同理心，能化解你因固执带来的冲突;他可能比你更坚韧，在你想要放弃时能稳住船舵;他可能比你更通透，能一眼看穿你自我欺骗的把戏。这些品质，才是婚姻这家“最佳合伙企业”最核心的资本。<br>    我知道，承认自己的伴侣在某些方面比自己优秀，对很多人的自尊心来说是一种挑战。这需要一种近乎反本能的自知之明和谦逊。但正是这种谦逊，才是智慧的开端。当你承认并欣赏对方的优秀时，你实际上为自己打开了一扇永不关闭的学习之门—你的伴侣成了你身边最近、最值得信赖的人生教练。这难道不是世界上性价比最高、最持续有效的自我提升策略吗?我一生中最愚蠢的决定之一，就是在一些商业决策上过于自信地拒绝听取更懂行的人的意见—其中也包括南希的意见。事实证明，几乎每一次当我选择忽视那些逆耳忠言时，我都付出了代价。婚姻也是如此。那些拒绝被伴侣的优秀所影响、所塑造的人，实际上是在主动关闭一扇通往更好版本自己的大门。他们把自己的骄傲凌驾于自己的成长之上。<br>    把人生看做一个系统，一个优秀的伴侣，是这个系统中最强大的正反馈回路:它让你变得更理性、更善良、更坚韧;而这些提升后的品质，又会反过来让你更好地经营这段关系，让它产生更多的幸福和价值。这个正向循环一旦启动，其带来的复利增长丝毫不亚于你在资本市场找到了一家伟大的公司并长期持有。它渗透到你生命的每一个角落—你的健康、你的事业、你的友谊，以及你如何看待这个世界。<br>当然，寻找一个优秀的伴侣并与之共同生活，并不意味着没有摩擦。恰恰相反，正是因为你们都在思考、都有强大的内核，摩擦才会产生。但关键在于，你们如何看待和处理这些摩擦:是把它们视为需要消灭的麻烦，还是视为磨砺彼此思想、加深相互理解的契机?智慧的伴侣懂得将摩擦转化为火花，照亮此前未被察觉的黑暗角落;而愚蠢的伴侣则只会让摩擦引发火灾，烧毁一切这需要双方都具备一种罕见的品质—理性沟通的能力。不是情绪化的指责，不是冷战式的回避，而是像两个优秀的科学家面对一个共同的难题:“我们如何能更好地理解彼此，让这个系统运行得更顺畅?”这本身就是一个持续学习、持续优化的过程。婚姻是这个世界上为期最长、最需要动脑筋的实践项目。<br>    现在，让我们把视角拉得更广一些。你选择的伴侣不仅影响你，还将深刻影响你的下一代。他或她将是你的孩子们最初也是最重要的老师。他的思维方式、价值判断、情绪反应模式，会像基因一样烙印在孩子的成长轨迹中。你是在为孩子选择一个终身的导师。从这个角度看，选择伴侣的决策，其重要性又提升了几个数量级。你不仅仅是在为自己的幸福投资，你是在为家族的命运下注。<br>我知道，在这个强调即时满足、追求感官刺激的时代谈论品格、理性和长期价值，听起来多么不合时宜-就像是在摇滚音乐会上演奏莫扎特。人们想要的是“感觉良好”，而不是“变得更好”。但让我坦率地告诉你们:所有“感觉良好”却背离了基本规律的选择，最终都会连本带利地收回代价。婚姻市场在长周期里是无比有效的，它最终会奖励那些选择了真正优质资产并长期持有的人，而惩罚那些做了愚蠢交易的人。</p><p>所以，年轻的男士们、女士们，当你们面对这个人生最重要的决定时，请暂时关闭掉那些荷尔蒙的噪音，屏蔽掉社会肤浅的舆论，拿出你们研究一只股票十分之一的认真劲，运用你们的理性思维，去评估你面前这个潜在的“人生合伙人”。问自己一些尖锐的问题:他的“护城河”是什么?50年后，当青春不再，是什么在支撑我们的关系?他是一个能让我变得更好的人吗?我是否发自内心地欣赏他，并渴望成为像他那样的人?<br>    我并不是说你要找到一个完美的圣人—世界上不存在完美的企业，也不存在完美的人。我们都在努力变得不那么愚蠢。关键是，你们是否走在同一条向上的道路上?是否愿意互相扶持?本质上，这是一种基于价值的联合，以期产生“1+1&gt;2”的协同效应。<br>在我漫长的一生中，我目睹了无数的潮起潮落，也见证了各种各样的人生结局。我可以毫不犹豫地告诉你们:那些在晚年依然享有深厚情感纽带和智力共鸣的伴侣,才是真正的人生赢家。他们的财富远不止于银行账户里的数字，而在于他们共同构建的那个无法被剥夺的、丰富的内心世界。那才是真正的财富。<br>    所以，如果我的智慧只能浓缩成一句关于婚姻的建议那么就是:勇敢地去寻找那个在某些重要方面比你优秀、并能促使你变得更好的人。然后，用你一生的努力去配得上这份幸运，去经营这份最宝贵的资产。这比任何一项投资都更值得你倾注心血。这或许是我能留给你们的最接近幸福密码的东西了。它听起来简单，实践起来却需要巨大的勇气和一生的坚持。但相信我，它的回报将超越你最大胆的想象。<br>现在轮到你们去思考，去行动了。我祝福你们都能找到属于自己的那份优质资产，并与之书写一段非凡的人生传记。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;我一生都在学习如何避免愚蠢。在投资上，我们通过逆向思维获得了巨大的成功—不去苦苦追寻如何变得伟大，而是孜孜不倦地研究如何保证变得痛苦、失败和破产。那么，让我们把同样的逻辑应用到“如何通过选择一个伴侣来确保你的人生充满摩擦、停滞并最终走向遗憾的平庸”呢?很简单:找一个对你的缺</summary>
      
    
    
    
    <category term="杂谈" scheme="https://maxmaxiang.github.io/categories/%E6%9D%82%E8%B0%88/"/>
    
    
  </entry>
  
  <entry>
    <title>社会心理学</title>
    <link href="https://maxmaxiang.github.io/2025/11/22/%E6%9D%82%E8%B0%88/%E7%A4%BE%E4%BC%9A%E5%BF%83%E7%90%86%E5%AD%A6/"/>
    <id>https://maxmaxiang.github.io/2025/11/22/%E6%9D%82%E8%B0%88/%E7%A4%BE%E4%BC%9A%E5%BF%83%E7%90%86%E5%AD%A6/</id>
    <published>2025-11-22T04:23:58.000Z</published>
    <updated>2025-11-22T14:51:36.718Z</updated>
    
    <content type="html"><![CDATA[<p>里面讲了很多各种各样的理论，我认为有意思的大概记录一下：</p><p>爱情的分类来自心理学家罗伯特·斯滕伯格（Robert Sternberg）提出的“爱情三角理论”（Triangular Theory of Love），这一理论被广泛收录在《社会心理学》等教材中。</p><p>斯滕伯格认为，爱情由三个基本成分构成：<strong>亲密（Intimacy）</strong>、<strong>激情（Passion）</strong> 和 <strong>承诺（Commitment）</strong>。不同的爱情类型是这三个成分不同组合的结果。</p><hr><h3 id="一、三个核心成分详解："><a href="#一、三个核心成分详解：" class="headerlink" title="一、三个核心成分详解："></a>一、三个核心成分详解：</h3><h4 id="1-亲密（Intimacy）"><a href="#1-亲密（Intimacy）" class="headerlink" title="1. 亲密（Intimacy）"></a>1. 亲密（Intimacy）</h4><ul><li><strong>定义</strong>：指两个人之间情感上的亲近感、信任、理解和支持。</li><li><strong>表现</strong>：彼此愿意分享内心想法和感受，感到被对方接纳和重视。</li><li><strong>作用</strong>：提供情感联结和温暖，是长期关系稳定的基础。</li><li><strong>不含激情或承诺时</strong>：可能表现为深厚的友谊。</li></ul><h4 id="2-激情（Passion）"><a href="#2-激情（Passion）" class="headerlink" title="2. 激情（Passion）"></a>2. 激情（Passion）</h4><ul><li><strong>定义</strong>：指强烈的生理吸引、性欲、浪漫渴望以及情绪上的兴奋。</li><li><strong>表现</strong>：心跳加速、思念、理想化对方、“坠入爱河”的感觉。</li><li><strong>特点</strong>：通常在恋爱初期最强烈，随时间可能减弱。</li><li><strong>单独存在时</strong>：可能表现为一夜情或迷恋。</li></ul><h4 id="3-承诺（Commitment）"><a href="#3-承诺（Commitment）" class="headerlink" title="3. 承诺（Commitment）"></a>3. 承诺（Commitment）</h4><ul><li>定义：包含两个层面：<ul><li><strong>短期</strong>：决定去爱一个人；</li><li><strong>长期</strong>：维持这段关系的决心，即使遇到困难也不轻易放弃。</li></ul></li><li><strong>表现</strong>：忠诚、责任感、共同规划未来。</li><li><strong>不含亲密与激情时</strong>：可能表现为“空洞的婚姻”或出于现实考虑的结合。</li></ul><hr><h3 id="二、七种爱情类型（三要素的不同组合）"><a href="#二、七种爱情类型（三要素的不同组合）" class="headerlink" title="二、七种爱情类型（三要素的不同组合）"></a>二、七种爱情类型（三要素的不同组合）</h3><div class="table-container"><table><thead><tr><th>爱情类型</th><th>亲密</th><th>激情</th><th>承诺</th><th>说明</th></tr></thead><tbody><tr><td><strong>无爱（Non-love）</strong></td><td>✗</td><td>✗</td><td>✗</td><td>三者皆无，普通关系或陌生人</td></tr><tr><td><strong>喜欢（Liking）</strong></td><td>✓</td><td>✗</td><td>✗</td><td>友谊，有亲密但无激情或承诺</td></tr><tr><td><strong>迷恋（Infatuation）</strong></td><td>✗</td><td>✓</td><td>✗</td><td>“一见钟情”，只有激情，缺乏了解和承诺</td></tr><tr><td><strong>空洞的爱（Empty love）</strong></td><td>✗</td><td>✗</td><td>✓</td><td>仅有承诺，常见于长期婚姻感情淡漠后</td></tr><tr><td><strong>浪漫的爱（Romantic love）</strong></td><td>✓</td><td>✓</td><td>✗</td><td>有亲密+激情，如热恋期情侣，但未决定长期在一起</td></tr><tr><td><strong>伴侣的爱（Companionate love）</strong></td><td>✓</td><td>✗</td><td>✓</td><td>亲密+承诺，如老夫老妻，激情消退但感情深厚</td></tr><tr><td><strong>愚昧的爱（Fatuous love）</strong></td><td>✗</td><td>✓</td><td>✓</td><td>激情+承诺，但缺乏深入了解，如闪婚</td></tr><tr><td><strong>完美的爱（Consummate love）</strong></td><td>✓</td><td>✓</td><td>✓</td><td>三者兼具，斯滕伯格认为这是最完整、理想的爱情</td></tr></tbody></table></div><blockquote><p>注意：有些版本将“无爱”不算作爱情类型，因此常称“六种”或“七种”爱情类型。</p></blockquote><hr><h3 id="三、现实意义"><a href="#三、现实意义" class="headerlink" title="三、现实意义"></a>三、现实意义</h3><ul><li>理想的爱情（完美的爱）很难长期维持三者平衡，尤其激情会随时间自然减弱。</li><li>健康的长期关系往往从浪漫的爱逐渐过渡到伴侣的爱。</li><li>理解这三个维度有助于人们反思自己的关系状态，比如是否缺乏沟通（亲密不足）、是否只剩责任（激情缺失）等。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;里面讲了很多各种各样的理论，我认为有意思的大概记录一下：&lt;/p&gt;
&lt;p&gt;爱情的分类来自心理学家罗伯特·斯滕伯格（Robert Sternberg）提出的“爱情三角理论”（Triangular Theory of Love），这一理论被广泛收录在《社会心理学》等教材中。&lt;/p</summary>
      
    
    
    
    <category term="杂谈" scheme="https://maxmaxiang.github.io/categories/%E6%9D%82%E8%B0%88/"/>
    
    
  </entry>
  
  <entry>
    <title>内网higress配置wasm插件流程</title>
    <link href="https://maxmaxiang.github.io/2025/11/21/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%87%AF%E4%BA%9A/%E5%86%85%E7%BD%91higress%E9%85%8D%E7%BD%AEwasm%E6%8F%92%E4%BB%B6%E6%B5%81%E7%A8%8B/"/>
    <id>https://maxmaxiang.github.io/2025/11/21/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%87%AF%E4%BA%9A/%E5%86%85%E7%BD%91higress%E9%85%8D%E7%BD%AEwasm%E6%8F%92%E4%BB%B6%E6%B5%81%E7%A8%8B/</id>
    <published>2025-11-21T04:23:58.000Z</published>
    <updated>2025-11-22T14:45:58.787Z</updated>
    
    <content type="html"><![CDATA[<h1 id="内网higress配置wasm插件流程"><a href="#内网higress配置wasm插件流程" class="headerlink" title="内网higress配置wasm插件流程"></a>内网higress配置wasm插件流程</h1><p>​    内网环境higress里面的插件用不了，因为插件的镜像是外网的oci://higress-registry.cn-hangzhou.cr.aliyuncs.com/mcp-server/all-in-one:2.0.0</p><p>​    但是这个是一个符合 OCI 标准的 Wasm 插件镜像，需要从 OCI 兼容的镜像仓库（如 Docker Hub、Harbor、ACR 等）拉取这个 Wasm 模块。不是所有 Harbor 版本默认启用 OCI Artifact 支持（Wasm 是一种 OCI Artifact，不是普通容器镜像）。<br>​    请确保：<br>Harbor ≥ v2.2.0（推荐 v2.6+）<br>在 Harbor 项目设置中 启用 “支持 Helm Chart、Wasm 等 OCI Artifacts”（通常叫 “Enable OCI Artifacts” 或类似选项）<br>推送 Wasm 时使用 oras 或支持 OCI Artifacts 的工具（不能用 docker push）</p><h2 id="使用Harbor-≥-v2-2-0版本推送对应的wasm插件"><a href="#使用Harbor-≥-v2-2-0版本推送对应的wasm插件" class="headerlink" title="使用Harbor ≥ v2.2.0版本推送对应的wasm插件"></a>使用Harbor ≥ v2.2.0版本推送对应的wasm插件</h2><p>日志中的错误：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">error   wasm    convert the wasm config: 1 error occurred:</span><br><span class="line">        * cannot fetch Wasm module oci://higress-registry.cn-hangzhou.cr.aliyuncs.com/mcp-server/all-in-one:2.0.0: </span><br><span class="line">          could not fetch Wasm OCI image: </span><br><span class="line">          could not fetch manifest: Get &quot;https://higress-registry.cn-hangzhou.cr.aliyuncs.com/v2/&quot;: </span><br><span class="line">          dial tcp 121.40.213.69:443: connect: connection refused</span><br></pre></td></tr></table></figure><p>说明：</p><ul><li>Higress Gateway Pod <strong>无法访问公网</strong>（或私有镜像仓库）。</li><li>目标地址 <code>higress-registry.cn-hangzhou.cr.aliyuncs.com</code> 是阿里云容器镜像服务（ACR），但你的集群节点或 Pod <strong>没有网络权限访问该地址</strong>（可能是防火墙、代理、VPC 隔离等原因）。</li><li>连接被 <strong><code>connection refused</code></strong>，说明连 TCP 三次握手都失败了，很可能是 <strong>出向网络被阻断</strong>。</li></ul><hr><p>解决方案</p><ol><li><p><strong>在能访问公网的机器上拉取镜像：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crane pull oci://higress-registry.cn-hangzhou.cr.aliyuncs.com/mcp-server/all-in-one:2.0.0 all-in-one-2.0.0.wasm</span><br></pre></td></tr></table></figure><p>或使用 <code>oras</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oras pull higress-registry.cn-hangzhou.cr.aliyuncs.com/mcp-server/all-in-one:2.0.0</span><br></pre></td></tr></table></figure></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   </span><br><span class="line">2. **将 `.wasm` 文件推送到你们内部的镜像仓库（如 Harbor、自建 ACR 等）：**</span><br><span class="line">   ```bash</span><br><span class="line">   oras push your-internal-registry.local/mcp-server/all-in-one:2.0.0 \</span><br><span class="line">       --manifest-config /dev/null:application/vnd.unknown.config.v1+json \</span><br><span class="line">       all-in-one-2.0.0.wasm:application/vnd.wasm.content.layer.v1+wasm</span><br></pre></td></tr></table></figure><ol><li><p><strong>修改 Higress 插件配置，将 <code>image</code> 字段指向内网地址：</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">settings:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">oci://your-internal-registry.local/mcp-server/all-in-one:2.0.0</span></span><br></pre></td></tr></table></figure></li></ol><blockquote><p>✅ 这样 Gateway 就无需访问外网，直接从内网拉取，避免网络问题。</p></blockquote><h3 id="证书问题"><a href="#证书问题" class="headerlink" title="证书问题"></a>证书问题</h3><p>错误如下</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* cannot fetch Wasm module oci://harbor01.xjky.com/mcp-server/all-in-one:2.0.0: could not fetch Wasm OCI image: could not fetch manifest: Get <span class="string">&quot;https://harbor01.xjky.com/v2/&quot;</span>: tls: failed to verify certificate: x509: certificate signed by unknown authority</span><br></pre></td></tr></table></figure><p>这个错误表明 <strong>Higress Gateway Pod 不信任你的 Harbor 服务器证书</strong>。因为你的 Harbor (<code>harbor01.xjky.com</code>) 使用的是<strong>自签名证书或内部 CA 签发的证书</strong>，而 Pod 的容器内没有信任该 CA。</p><p>修改 <code>higress-config</code> ConfigMap，添加 Wasm 拉取的不安全选项：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl edit cm -n higress-system higress-config</span><br></pre></td></tr></table></figure><p>在 <code>mesh</code> 配置段添加：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mesh:</span> <span class="string">|-</span></span><br><span class="line"><span class="string">  defaultConfig:</span></span><br><span class="line"><span class="string"></span><span class="string">​</span>    <span class="string">proxyMeta</span></span><br><span class="line"><span class="string">​</span>      <span class="attr">WASM_INSECURE_SKIP_VERIFY:</span> <span class="string">&quot;true&quot;</span></span><br><span class="line"><span class="string">​</span>      <span class="attr">WASM_INSECURE_SKIP_HOSTNAME_VERIFY:</span> <span class="string">&quot;true&quot;</span></span><br></pre></td></tr></table></figure><p>然后重启：</p><p>kubectl rollout restart deploy/higress-gateway -n higress-system</p><h2 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h2><h3 id="禁用不需要的插件"><a href="#禁用不需要的插件" class="headerlink" title="禁用不需要的插件"></a><strong>禁用不需要的插件</strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看现有的 WasmPlugin</span></span><br><span class="line">kubectl get wasmplugin -A</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除或禁用 key-auth 插件</span></span><br><span class="line">kubectl delete wasmplugin -n higress-system key-auth  <span class="comment"># 或者你的插件名称</span></span><br></pre></td></tr></table></figure><h3 id="重启所有组件"><a href="#重启所有组件" class="headerlink" title="重启所有组件"></a><strong>重启所有组件</strong></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 重启 controller 使 ConfigMap 生效</span></span><br><span class="line">kubectl rollout restart deploy/higress-controller -n higress-system</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启 gateway</span></span><br><span class="line">kubectl rollout restart deploy/higress-gateway -n higress-system</span><br></pre></td></tr></table></figure><h2 id="Higress-的主要日志组件"><a href="#Higress-的主要日志组件" class="headerlink" title="Higress 的主要日志组件"></a>Higress 的主要日志组件</h2><ol><li><strong>higress-controller</strong><ul><li>负责监听 Kubernetes 的 Ingress、Gateway API 等资源变更，并生成配置。</li><li>日志内容：配置同步、事件处理、控制器内部状态等。</li></ul></li><li><strong>higress-gateway</strong><ul><li>基于 Envoy 的数据面网关，处理实际的 HTTP/HTTPS 流量。</li><li>日志内容：访问日志（access log）、错误日志、Wasm 插件日志、Envoy 内部日志等。</li></ul></li><li><strong>Wasm 插件日志（可选）</strong><ul><li>如果你启用了自定义或官方 Wasm 插件，插件内部通过 <code>wrapper.Log</code> 打印的日志也会输出到标准输出中 。</li></ul></li></ol><h3 id="如何查看日志"><a href="#如何查看日志" class="headerlink" title="如何查看日志"></a>如何查看日志</h3><p>Higress 所有组件的日志默认都输出到 <strong>容器的标准输出（stdout/stderr）</strong>，因此你可以使用 <code>kubectl logs</code> 查看：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看 controller 日志</span></span><br><span class="line">kubectl logs -n higress-system &lt;higress-controller-pod-name&gt;</span><br><span class="line"><span class="comment"># 查看 gateway 日志（可能有多个副本）</span></span><br><span class="line">kubectl logs -n higress-system &lt;higress-gateway-pod-name&gt;</span><br><span class="line">如果你不确定 Pod 名称，可以先列出：</span><br><span class="line">kubectl get pods -n higress-system</span><br><span class="line">例如：</span><br><span class="line">kubectl logs -n higress-system higress-gateway-5cb7f44768-snfbd</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;内网higress配置wasm插件流程&quot;&gt;&lt;a href=&quot;#内网higress配置wasm插件流程&quot; class=&quot;headerlink&quot; title=&quot;内网higress配置wasm插件流程&quot;&gt;&lt;/a&gt;内网higress配置wasm插件流程&lt;/h1&gt;&lt;p&gt;​ </summary>
      
    
    
    
    <category term="计算机" scheme="https://maxmaxiang.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>新k8s的skywalking部署</title>
    <link href="https://maxmaxiang.github.io/2025/11/20/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%87%AF%E4%BA%9A/%E6%96%B0k8s%E7%9A%84skywalking%E9%83%A8%E7%BD%B2/"/>
    <id>https://maxmaxiang.github.io/2025/11/20/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%87%AF%E4%BA%9A/%E6%96%B0k8s%E7%9A%84skywalking%E9%83%A8%E7%BD%B2/</id>
    <published>2025-11-20T04:23:58.000Z</published>
    <updated>2025-11-22T14:44:02.216Z</updated>
    
    <content type="html"><![CDATA[<h1 id="新k8s的skywalking部署"><a href="#新k8s的skywalking部署" class="headerlink" title="新k8s的skywalking部署"></a>新k8s的skywalking部署</h1><h2 id="oap的部署文件"><a href="#oap的部署文件" class="headerlink" title="oap的部署文件"></a>oap的部署文件</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">oap</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">skywalking</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">oap</span></span><br><span class="line">    <span class="attr">release:</span> <span class="string">skywalking</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">oap</span></span><br><span class="line">      <span class="attr">release:</span> <span class="string">skywalking</span></span><br><span class="line">  <span class="attr">strategy:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">RollingUpdate</span></span><br><span class="line">    <span class="attr">rollingUpdate:</span></span><br><span class="line">      <span class="attr">maxUnavailable:</span> <span class="number">25</span><span class="string">%</span></span><br><span class="line">      <span class="attr">maxSurge:</span> <span class="number">25</span><span class="string">%</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">oap</span></span><br><span class="line">        <span class="attr">release:</span> <span class="string">skywalking</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">oap</span></span><br><span class="line">        <span class="attr">image:</span> <span class="number">172.31</span><span class="number">.10</span><span class="number">.118</span><span class="string">/apache/skywalking-oap-server:8.3.0-es7</span></span><br><span class="line">        <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">11800</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">grpc</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">12800</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">rest</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">SW_STORAGE</span></span><br><span class="line">          <span class="attr">value:</span> <span class="string">elasticsearch7</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">SW_STORAGE_ES_CLUSTER_NODES</span></span><br><span class="line">          <span class="attr">value:</span> <span class="number">172.31</span><span class="number">.10</span><span class="number">.119</span><span class="string">:9200</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">SW_NAMESPACE</span></span><br><span class="line">          <span class="attr">value:</span> <span class="string">skywalking</span></span><br><span class="line">        <span class="attr">resources:</span> &#123;&#125;</span><br></pre></td></tr></table></figure><h2 id="ui的部署文件"><a href="#ui的部署文件" class="headerlink" title="ui的部署文件"></a>ui的部署文件</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ui-deployment</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">skywalking</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">ui</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">ui</span></span><br><span class="line">  <span class="attr">strategy:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">RollingUpdate</span></span><br><span class="line">    <span class="attr">rollingUpdate:</span></span><br><span class="line">      <span class="attr">maxUnavailable:</span> <span class="number">25</span><span class="string">%</span></span><br><span class="line">      <span class="attr">maxSurge:</span> <span class="number">25</span><span class="string">%</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">ui</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">ui</span></span><br><span class="line">        <span class="attr">image:</span> <span class="number">172.31</span><span class="number">.10</span><span class="number">.118</span><span class="string">/apache/skywalking-ui:8.3.0</span></span><br><span class="line">        <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">page</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">SW_OAP_ADDRESS</span></span><br><span class="line">          <span class="attr">value:</span> <span class="string">oap:12800</span></span><br><span class="line">        <span class="attr">resources:</span> &#123;&#125;</span><br></pre></td></tr></table></figure><h2 id="svc的部署文件"><a href="#svc的部署文件" class="headerlink" title="svc的部署文件"></a>svc的部署文件</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">oap</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">skywalking</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">skywalking</span></span><br><span class="line">    <span class="attr">component:</span> <span class="string">oap</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">ClusterIP</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">http</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">12800</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">12800</span></span><br><span class="line">    <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">grpc</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">11800</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">11800</span></span><br><span class="line">    <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">oap</span></span><br><span class="line">    <span class="attr">release:</span> <span class="string">skywalking</span> </span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ui</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">skywalking</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">skywalking</span></span><br><span class="line">    <span class="attr">component:</span> <span class="string">ui</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">NodePort</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">http</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">8080</span></span><br><span class="line">    <span class="attr">nodePort:</span> <span class="number">31234</span></span><br><span class="line">    <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">ui</span> </span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;新k8s的skywalking部署&quot;&gt;&lt;a href=&quot;#新k8s的skywalking部署&quot; class=&quot;headerlink&quot; title=&quot;新k8s的skywalking部署&quot;&gt;&lt;/a&gt;新k8s的skywalking部署&lt;/h1&gt;&lt;h2 id=&quot;oap的部</summary>
      
    
    
    
    <category term="计算机" scheme="https://maxmaxiang.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>新k8s的higress使用</title>
    <link href="https://maxmaxiang.github.io/2025/11/19/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%87%AF%E4%BA%9A/%E6%96%B0k8s%E7%9A%84higress%E4%BD%BF%E7%94%A8/"/>
    <id>https://maxmaxiang.github.io/2025/11/19/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%87%AF%E4%BA%9A/%E6%96%B0k8s%E7%9A%84higress%E4%BD%BF%E7%94%A8/</id>
    <published>2025-11-19T04:23:58.000Z</published>
    <updated>2025-11-22T14:37:59.752Z</updated>
    
    <content type="html"><![CDATA[<h1 id="新k8s的higress使用"><a href="#新k8s的higress使用" class="headerlink" title="新k8s的higress使用"></a>新k8s的higress使用</h1><p>Higress 是一个三合一的云原生 API 网关：</p><ul><li><strong>流量网关</strong>：负责南北向流量调度、负载均衡、协议转换（如 HTTP/gRPC/WebSocket）、SSL/TLS 终止、动静分离等，可完全替代 Nginx / Nginx Ingress。</li><li><strong>微服务网关</strong>：深度集成服务发现（支持 Nacos、Consul、Kubernetes Services 等），提供限流、熔断、重试、超时控制、蓝绿发布、灰度发布（基于 Header、Cookie、权重等多维度规则）等服务治理能力，可替代 Spring Cloud Gateway。</li><li><strong>安全网关</strong>：内置 Web 应用防火墙（WAF），基于 ModSecurity + OWASP CRS 规则集，防御 SQL 注入、XSS、命令注入等常见攻击；同时支持 <strong>JWT、OAuth2、Key Auth、OIDC</strong> 等统一鉴权机制，实现认证与授权前置化。</li><li><strong>插件扩展体系</strong>：支持 Go、WASM、Java 等多语言插件，便于定制路由、鉴权、日志、监控等业务逻辑。</li><li><strong>云原生友好</strong>：原生支持 Kubernetes Ingress / Gateway API，兼容 Nginx Ingress 注解，支持配置热更新、多租户、可观测性（Metrics / Logging / Tracing）集成。</li></ul><p>换句话说，Higress 是一个集 <strong>流量调度 + 服务治理 + 安全防护 + 统一鉴权 + 发布策略控制</strong> 于一体的现代化 API 网关。<br>在典型的微服务架构中，它可以<strong>一站式替代 Nginx（流量入口） + Spring Cloud Gateway（微服务路由） + WAF（Web 安全防护）</strong>，显著简化架构、降低运维复杂度，并提升性能与安全性。后续可逐步将原有 Nginx 与 Spring Cloud Gateway 组件下线，由 Higress 统一承载南北向流量。</p><p>关于蓝绿发布与灰度发布（重点补充）</p><p>✅ <strong>Higress 完整支持蓝绿发布与灰度发布</strong>，具体能力包括：</p><ul><li><strong>基于权重的流量切分</strong>：例如将 90% 流量路由到 v1，10% 到 v2。</li><li><strong>基于请求特征的灰度</strong>：根据 Header（如 <code>x-user-id</code>）、Cookie、Query 参数、IP 等条件，将特定用户或请求路由到新版本。</li><li><strong>服务版本管理</strong>：配合 Kubernetes 的 Service 和 Label，实现版本化路由。</li><li><strong>无缝回滚</strong>：通过动态配置更新，秒级切换流量比例或关闭灰度。</li></ul><p>这些能力通过 Higress 的 <strong>路由规则（Route）和虚拟服务（VirtualService）CRD</strong> 进行声明式配置，无需修改应用代码。</p><p>✅ 支持 <strong>API 转 MCP</strong>（Model Context Protocol）</p><p>Higress 内置 <strong>MCP Server 插件</strong>，能够<strong>无需编写代码</strong>，将企业已有的 HTTP/REST API 或数据库服务快速转换为 <strong>AI 助手可调用的 MCP 工具</strong>，无缝接入如 Dify、阿里百炼、字节 Coze 等 AI Agent 平台 。</p><p>核心能力包括：</p><ul><li><strong>零代码转换</strong>：只需配置路由和后端服务信息（如 API 地址、认证方式），Higress 自动将 OpenAPI（OAS 3.0）描述转换为 MCP 协议接口 。</li><li><strong>多协议兼容</strong>：支持 MCP 的多个迭代版本（如 <code>20241105</code>、<code>20250326</code>），可在同一网关同时处理新旧 MCP 协议请求 。</li><li><strong>统一治理</strong>：转换后的 MCP 服务<strong>自动继承 Higress 的鉴权</strong>（JWT/OAuth2）。</li><li><strong>生态集成</strong>：已落地于金融、地图、电商等多个场景，例如将高德地图地理编码 API、今日投资金融数据 API 转为 MCP 工具，供 AI 自动调用 。</li><li><strong>私有 MCP 市场</strong>：企业可基于 Higress 构建内部 MCP 工具市场，集中管理所有 AI 可调用的服务 。</li></ul><blockquote><p>💡 <strong>典型场景</strong>：<br>一个内部用户查询接口 <code>/api/users/&#123;id&#125;</code>，原本只能被前端或移动端调用。通过 Higress MCP 能力，AI 助手在对话中即可自动识别“查询用户信息”意图，并直接调用该接口获取结构化数据，无需额外开发适配层。 </p></blockquote><p>测试环境higress地址：</p><p>控制台：<a href="http://172.31.70.156:8001/">http://172.31.70.156:8001/</a></p><p>网关入口：<a href="http://172.31.70.156:8080/">Welcome to Higress!</a>和<a href="https://172.31.70.156:8443/">Welcome to Higre</a></p><p>生产环境higress地址：</p><p>控制台：<a href="http://172.31.10.44:32561/">http://172.31.10.44:32561/</a></p><p>网关入口：<a href="http://172.31.10.41:32013/和https://172.31.10.41:32518/">http://172.31.10.41:32013/和https://172.31.10.41:32518/</a></p><p>用户名admin密码Bzzc@934#</p><h2 id="1-添加服务来源"><a href="#1-添加服务来源" class="headerlink" title="1.添加服务来源"></a>1.添加服务来源</h2><p><img src="C:\Users\Developer\AppData\Roaming\Typora\typora-user-images\image-20251113111128448.png" alt="image-20251113111128448"></p><h2 id="2-查看服务列表"><a href="#2-查看服务列表" class="headerlink" title="2.查看服务列表"></a>2.查看服务列表</h2><p><img src="C:\Users\Developer\AppData\Roaming\Typora\typora-user-images\image-20251113111209485.png" alt="image-20251113111209485"></p><p>注意，从注册中心拉到的服务ip是k8s集群内部的ip，如果higress是单独部署的，或者是跨集群的，是访问不到的，需要单独开nodeport或者load balancer的网络然后使用固定地址访问而不是注册中心。</p><h2 id="3-创建路由"><a href="#3-创建路由" class="headerlink" title="3.创建路由"></a>3.创建路由</h2><p><img src="C:\Users\Developer\AppData\Roaming\Typora\typora-user-images\image-20251113112905853.png" alt="image-20251113112905853"></p><p><img src="C:\Users\Developer\AppData\Roaming\Typora\typora-user-images\image-20251113112923735.png" alt="image-20251113112923735"></p><h3 id="3-1-设置路由插件"><a href="#3-1-设置路由插件" class="headerlink" title="3.1 设置路由插件"></a>3.1 设置路由插件</h3><h3 id=""><a href="#" class="headerlink" title=""></a><img src="C:\Users\Developer\AppData\Roaming\Typora\typora-user-images\image-20251113113013329.png" alt="image-20251113113013329"></h3><p>路径重写：</p><p><img src="C:\Users\Developer\AppData\Roaming\Typora\typora-user-images\image-20251113113028844.png" alt="image-20251113113028844"></p><p>类似nginx的路径重写</p><h2 id="4-mcp服务器插件配置"><a href="#4-mcp服务器插件配置" class="headerlink" title="4.mcp服务器插件配置"></a>4.mcp服务器插件配置</h2><h3 id="当日值班"><a href="#当日值班" class="headerlink" title="当日值班"></a>当日值班</h3><figure class="highlight hs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">server</span>:</span><br><span class="line">  allowTools:</span><br><span class="line">  - <span class="string">&quot;get-today-duty-info&quot;</span></span><br><span class="line">  name: <span class="string">&quot;duty-service&quot;</span></span><br><span class="line"><span class="title">tools</span>:</span><br><span class="line">- args:</span><br><span class="line">  - <span class="keyword">default</span>: &quot;&#123;&#123; now &#125;&#125;&quot;</span><br><span class="line">    description: <span class="string">&quot;签到日期，格式为 yyyy-MM-dd HH:mm:ss,默认为今天&quot;</span></span><br><span class="line">    name: <span class="string">&quot;signDate&quot;</span></span><br><span class="line">    position: <span class="string">&quot;query&quot;</span></span><br><span class="line">    required: true</span><br><span class="line">    <span class="class"><span class="keyword">type</span>: &quot;string&quot;</span></span><br><span class="line">  - <span class="keyword">default</span>: &quot;-1&quot;</span><br><span class="line">    description: <span class="string">&quot;组织机构ID,传-1表示获取全部,必须传-1&quot;</span></span><br><span class="line">    name: <span class="string">&quot;orgId&quot;</span></span><br><span class="line">    position: <span class="string">&quot;query&quot;</span></span><br><span class="line">    required: true</span><br><span class="line">    <span class="class"><span class="keyword">type</span>: &quot;string&quot;</span></span><br><span class="line">  - description: <span class="string">&quot;认证Token&quot;</span></span><br><span class="line">    name: <span class="string">&quot;Authorization&quot;</span></span><br><span class="line">    position: <span class="string">&quot;header&quot;</span></span><br><span class="line">    required: true</span><br><span class="line">    <span class="class"><span class="keyword">type</span>: &quot;string&quot;</span></span><br><span class="line">  description: <span class="string">&quot;获取当日值班列表信息&quot;</span></span><br><span class="line">  name: <span class="string">&quot;get-today-duty-info&quot;</span></span><br><span class="line">  requestTemplate:</span><br><span class="line">    headers:</span><br><span class="line">    - key: <span class="string">&quot;Authorization&quot;</span></span><br><span class="line">      value: <span class="string">&quot;&#123;&#123;.args.Authorization&#125;&#125;&quot;</span></span><br><span class="line">    method: <span class="string">&quot;GET&quot;</span></span><br><span class="line">    url: <span class="string">&quot;http://172.31.10.113:33001/app/duty/appUserSign/listByOrg?signDate=&#123;&#123;.args.signDate&#125;&#125;&amp;orgId=&#123;&#123;.args.orgId&#125;&#125;&quot;</span></span><br><span class="line">  responseTemplate:</span><br><span class="line">    body: |-</span><br><span class="line">      &#123;<span class="comment">&#123;- if eq .status &quot;200&quot; &#125;&#125;</span></span><br><span class="line"><span class="comment">      ## 当日值班信息</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      &#123;<span class="comment">&#123;- range .result &#125;&#125;</span></span></span><br><span class="line"><span class="comment"><span class="comment">      ### &#123;&#123; .orgName &#125;&#125; (&#123;&#123; .code &#125;&#125;)</span></span></span><br><span class="line"><span class="comment"><span class="comment">      - **组织ID**: &#123;&#123; .orgId &#125;&#125;</span></span></span><br><span class="line"><span class="comment"><span class="comment">      - **当日值班人数**: &#123;&#123; .todayDutyCount &#125;&#125;</span></span></span><br><span class="line"><span class="comment"><span class="comment">      - **部门用户总数**: &#123;&#123; .orgUserCount &#125;&#125;</span></span></span><br><span class="line"><span class="comment"><span class="comment"></span></span></span><br><span class="line"><span class="comment"><span class="comment">      &#123;<span class="comment">&#123;- if .list &#125;&#125;</span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment">      #### 值班人员列表:</span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment">      &#123;<span class="comment">&#123;- range .list &#125;&#125;</span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment">      - **姓名**: &#123;&#123; .userName &#125;&#125;</span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment">        - **岗位**: &#123;&#123; .positionName &#125;&#125;</span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment">        - **电话**: &#123;&#123; .phoneNum &#125;&#125;</span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment">        - **签到状态**: &#123;&#123; if eq .signYesNo 1 &#125;&#125;已签到&#123;&#123; else &#125;&#125;未签到&#123;&#123; end &#125;&#125;</span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment">        - **岗位类型**: &#123;&#123; if eq .signPositionType 1 &#125;&#125;正班&#123;&#123; else if eq .signPositionType 2 &#125;&#125;副班&#123;&#123; else &#125;&#125;其他&#123;&#123; end &#125;&#125;</span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment">      &#123;<span class="comment">&#123;- end &#125;&#125;</span></span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">      &#123;<span class="comment">&#123;- else &#125;&#125;</span></span></span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">      &gt; 今日暂无值班人员</span></span></span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">      &#123;<span class="comment">&#123;- end &#125;&#125;</span></span></span></span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"></span></span></span></span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">      ---</span></span></span></span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">      &#123;<span class="comment">&#123;- end &#125;&#125;</span></span></span></span></span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">      &#123;<span class="comment">&#123;- else &#125;&#125;</span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">      ## 请求失败</span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">      - **状态码**: &#123;&#123;.status&#125;&#125;</span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">      - **错误信息**: &#123;&#123;.message&#125;&#125;</span></span></span></span></span></span></span></span></span></span><br><span class="line"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment"><span class="comment">      &#123;<span class="comment">&#123;- end &#125;&#125;</span></span></span></span></span></span></span></span></span></span></span><br></pre></td></tr></table></figure><h2 id="mcp服务器插件配置生成的提示词模板"><a href="#mcp服务器插件配置生成的提示词模板" class="headerlink" title="mcp服务器插件配置生成的提示词模板"></a>mcp服务器插件配置生成的提示词模板</h2><p>搜索higress的mcp服务器插件配置语法，并模仿如下配置生成一个新配置：</p><p>【mcp服务器插件配置】</p><p>新配置的功能是获取当日值班的数据，url是<a href="http://172.31.70.156:8080/duty-service/app/duty/appUserSign/listByOrg，是get请求，入参有signDate，格式是yyyy-MM-dd">http://172.31.70.156:8080/duty-service/app/duty/appUserSign/listByOrg，是get请求，入参有signDate，格式是yyyy-MM-dd</a> HH:mm:ss，默认传今天，还有orgId，组织机构id，默认传-1，就是全部的意思，返回的结果是这样的：</p><p>【结果返回实际结果】</p><p>对应的接口是这样的：</p><p>【接口controller代码】</p><p>【出入参实体类】</p><h3 id="半小时天气"><a href="#半小时天气" class="headerlink" title="半小时天气"></a>半小时天气</h3><p>搜索higress的mcp服务器插件配置语法，并模仿如下配置生成一个新配置：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">server:</span><br><span class="line">  allowTools:</span><br><span class="line">  - <span class="string">&quot;get-today-duty-info&quot;</span></span><br><span class="line">  name: <span class="string">&quot;duty-service&quot;</span></span><br><span class="line">tools:</span><br><span class="line">- args:</span><br><span class="line">  - default: <span class="string">&quot;&#123;&#123; now &#125;&#125;&quot;</span></span><br><span class="line">    description: <span class="string">&quot;签到日期，格式为 yyyy-MM-dd HH:mm:ss,默认为今天&quot;</span></span><br><span class="line">    name: <span class="string">&quot;signDate&quot;</span></span><br><span class="line">    position: <span class="string">&quot;query&quot;</span></span><br><span class="line">    required: <span class="literal">true</span></span><br><span class="line">    <span class="built_in">type</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">  - default: <span class="string">&quot;-1&quot;</span></span><br><span class="line">    description: <span class="string">&quot;组织机构ID,传-1表示获取全部,必须传-1&quot;</span></span><br><span class="line">    name: <span class="string">&quot;orgId&quot;</span></span><br><span class="line">    position: <span class="string">&quot;query&quot;</span></span><br><span class="line">    required: <span class="literal">true</span></span><br><span class="line">    <span class="built_in">type</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">  - description: <span class="string">&quot;认证Token&quot;</span></span><br><span class="line">    name: <span class="string">&quot;Authorization&quot;</span></span><br><span class="line">    position: <span class="string">&quot;header&quot;</span></span><br><span class="line">    required: <span class="literal">true</span></span><br><span class="line">    <span class="built_in">type</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">  description: <span class="string">&quot;获取当日值班列表信息&quot;</span></span><br><span class="line">  name: <span class="string">&quot;get-today-duty-info&quot;</span></span><br><span class="line">  requestTemplate:</span><br><span class="line">    headers:</span><br><span class="line">    - key: <span class="string">&quot;Authorization&quot;</span></span><br><span class="line">      value: <span class="string">&quot;&#123;&#123;.args.Authorization&#125;&#125;&quot;</span></span><br><span class="line">    method: <span class="string">&quot;GET&quot;</span></span><br><span class="line">    url: <span class="string">&quot;http://172.31.10.113:33001/app/duty/appUserSign/listByOrg?signDate=&#123;&#123;.args.signDate&#125;&#125;&amp;orgId=&#123;&#123;.args.orgId&#125;&#125;&quot;</span></span><br><span class="line">  responseTemplate:</span><br><span class="line">    body: |-</span><br><span class="line">      &#123;&#123;- <span class="keyword">if</span> eq .status <span class="string">&quot;200&quot;</span> &#125;&#125;</span><br><span class="line">      <span class="comment">## 当日值班信息</span></span><br><span class="line"></span><br><span class="line">      &#123;&#123;- range .result &#125;&#125;</span><br><span class="line">      <span class="comment">### &#123;&#123; .orgName &#125;&#125; (&#123;&#123; .code &#125;&#125;)</span></span><br><span class="line">      - **组织ID**: &#123;&#123; .orgId &#125;&#125;</span><br><span class="line">      - **当日值班人数**: &#123;&#123; .todayDutyCount &#125;&#125;</span><br><span class="line">      - **部门用户总数**: &#123;&#123; .orgUserCount &#125;&#125;</span><br><span class="line"></span><br><span class="line">      &#123;&#123;- <span class="keyword">if</span> .list &#125;&#125;</span><br><span class="line">      <span class="comment">#### 值班人员列表:</span></span><br><span class="line">      &#123;&#123;- range .list &#125;&#125;</span><br><span class="line">      - **姓名**: &#123;&#123; .userName &#125;&#125;</span><br><span class="line">        - **岗位**: &#123;&#123; .positionName &#125;&#125;</span><br><span class="line">        - **电话**: &#123;&#123; .phoneNum &#125;&#125;</span><br><span class="line">        - **签到状态**: &#123;&#123; <span class="keyword">if</span> eq .signYesNo 1 &#125;&#125;已签到&#123;&#123; <span class="keyword">else</span> &#125;&#125;未签到&#123;&#123; end &#125;&#125;</span><br><span class="line">        - **岗位类型**: &#123;&#123; <span class="keyword">if</span> eq .signPositionType 1 &#125;&#125;正班&#123;&#123; <span class="keyword">else</span> <span class="keyword">if</span> eq .signPositionType 2 &#125;&#125;副班&#123;&#123; <span class="keyword">else</span> &#125;&#125;其他&#123;&#123; end &#125;&#125;</span><br><span class="line">      &#123;&#123;- end &#125;&#125;</span><br><span class="line">      &#123;&#123;- <span class="keyword">else</span> &#125;&#125;</span><br><span class="line">      &gt; 今日暂无值班人员</span><br><span class="line">      &#123;&#123;- end &#125;&#125;</span><br><span class="line"></span><br><span class="line">      ---</span><br><span class="line">      &#123;&#123;- end &#125;&#125;</span><br><span class="line">      &#123;&#123;- <span class="keyword">else</span> &#125;&#125;</span><br><span class="line">      <span class="comment">## 请求失败</span></span><br><span class="line">      - **状态码**: &#123;&#123;.status&#125;&#125;</span><br><span class="line">      - **错误信息**: &#123;&#123;.message&#125;&#125;</span><br><span class="line">      &#123;&#123;- end &#125;&#125;</span><br></pre></td></tr></table></figure><p>新配置的功能是根据机场三字码获取半小时天气的数据，url是<a href="http://172.31.70.156:8080/production-service，是post请求，入参有airportCode，是机场的三字码，入参的json格式是这样的：{&quot;entity">http://172.31.70.156:8080/production-service，是post请求，入参有airportCode，是机场的三字码，入参的json格式是这样的：{&quot;entity</a>“: {“airportCode”: “URC”}}，返回的结果是这样的：</p><p>{<br>  “status”: “200”,<br>  “message”: null,<br>  “result”: {<br>    “visibilityColor”: 0,<br>    “avgWindColor”: 0,<br>    “tempColor”: 0,<br>    “lowTempColor”: 0,<br>    “highTempColor”: 0,<br>    “visibilityColorAlertValue”: null,<br>    “avgWindColorAlertValue”: null,<br>    “tempColorAlertValue”: null,<br>    “winddirectionAlertValue”: null,<br>    “weatherInfoValue”: [<br>      “”<br>    ],<br>    “cloudInfoValue”: [<br>      {<br>        “id”: null,<br>        “element”: null,<br>        “describe”: null,<br>        “cloudInfo”: “无重要云”,<br>        “cloudHeight”: null,<br>        “cloudForm”: null<br>      }<br>    ],<br>    “trendforecasTinfoValue”: null,<br>    “warning”: [<br>      {<br>        “wid”: 1,<br>        “yellow”: “8”,<br>        “red”: “14”,<br>        “type”: “windspeed”,<br>        “airportCode”: “URC”<br>      },<br>      {<br>        “wid”: 2,<br>        “yellow”: “800”,<br>        “red”: “550”,<br>        “type”: “RVR”,<br>        “airportCode”: “URC”<br>      }<br>    ],<br>    “cloudDescribe”: “”,<br>    “cloudPic”: null,<br>    “avgwindspeedColor”: “white”,<br>    “weatherinfo”: null,<br>    “cloudinfo”: “NSC”,<br>    “otime”: “0430”,<br>    “odate”: “20251104”,<br>    “rptcontent”: “METAR ZWWW 040430Z 31004MPS 7000 NSC 08/01 Q1015 NOSIG= “,<br>    “avgwindspeed”: “4”,<br>    “verticalvisibility”: null,<br>    “rwysighttrend”: null,<br>    “rwysightTrendValue”: null,<br>    “cavokflag”: null,<br>    “trendforecastinfo”: null,<br>    “winddirection”: “310”,<br>    “inserttime”: “2025-11-04 04:29:20”,<br>    “reftime”: “2025-11-04 12:30:00”,<br>    “maxwindspeed”: null,<br>    “receivetime”: “04:29”,<br>    “temperature”: “8”,<br>    “dewpointtemperature”: “1”,<br>    “airpressure”: “1015”,<br>    “cloudcount”: “1”,<br>    “autoflag”: null,<br>    “winddirectionchange”: null,<br>    “minvisibility”: “7000”,<br>    “minvisibilitydirection”: null,<br>    “maxvisibility”: null,<br>    “maxvisibilitydirection”: null,<br>    “rwycount”: null,<br>    “rwyid”: null,<br>    “rwysight”: null,<br>    “rwysightchange”: null,<br>    “ncdflag”: null,<br>    “reweathercount”: null,<br>    “reweatherinfo”: null,<br>    “wscount”: null,<br>    “wsinfo”: null,<br>    “seatemperature”: null,<br>    “seastate”: null,<br>    “rwystate”: null,<br>    “trendforecastcount”: null,<br>    “cccc”: “ZWWW”,<br>    “skcflag”: null,<br>    “nscflag”: “1”,<br>    “reportid”: “c20251104043117358TXT0001001”,<br>    “tt”: “SA”,<br>    “aa”: “CI”,<br>    “kk”: “39”,<br>    “headdate”: “20251104”,<br>    “headtime”: “0430”,<br>    “bbb”: null,<br>    “obcc”: “ZWWW”,<br>    “weathercount”: null<br>  },<br>  “callback”: null<br>}</p><p>相关的代码是这样的：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br></pre></td><td class="code"><pre><span class="line">package com.xjcares.common.dto.weather;</span><br><span class="line"></span><br><span class="line">import com.xjcares.common.vo.security.WeatherColorVo;</span><br><span class="line">import io.swagger.annotations.ApiModelProperty;</span><br><span class="line">import lombok.Getter;</span><br><span class="line">import lombok.Setter;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 天气小时报文</span><br><span class="line"> *</span><br><span class="line"> * @author root</span><br><span class="line"> */</span><br><span class="line">@Getter</span><br><span class="line">@Setter</span><br><span class="line">public class WeatherSASP extends WeatherColorVo &#123;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;公报ID+报告顺序号(23 位+3 位) &#x27;,</span><br><span class="line">     */</span><br><span class="line">    @ApiModelProperty(value = &quot;&#x27;公报ID+报告顺序号(23 位+3 位) &quot;)</span><br><span class="line">    private String REPORTID;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;接收时间（取自文件属性）&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String RECEIVETIME;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;入库时间（入库时获取系统时间）&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String INSERTTIME;</span><br><span class="line">    /**</span><br><span class="line">     * T &#x27;报文类别SA or SP （根据报头判定）&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String TT;</span><br><span class="line">    /**</span><br><span class="line">     * T &#x27;区域代码， 来自报头中的AA &#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String AA;</span><br><span class="line">    /**</span><br><span class="line">     * T &#x27;公报编号， 来自报头中的KK &#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String KK;</span><br><span class="line">    /**</span><br><span class="line">     * N   转发报日期文件名的年月(YYYYMM)+ 报头中的日(DD)经过比较计算后得到。</span><br><span class="line">     */</span><br><span class="line">    private String HEADDATE;</span><br><span class="line">    /**</span><br><span class="line">     * 转发报时间来自报头的时分(HHMM)</span><br><span class="line">     */</span><br><span class="line">    private String HEADTIME;</span><br><span class="line">    /**</span><br><span class="line">     * 通信发布中心代码</span><br><span class="line">     */</span><br><span class="line">    private String CCCC;</span><br><span class="line">    /**</span><br><span class="line">     * Y   更正/修订标识,来自于报头（AAx、CCx、RRx）</span><br><span class="line">     */</span><br><span class="line">    private String BBB;</span><br><span class="line">    /**</span><br><span class="line">     * 航站代码，来自报告的CCCC</span><br><span class="line">     */</span><br><span class="line">    private String OBCC;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;观测日期(年月日) 根据报告中CCCC 后面的YYGGggZ 中的日（YY）和文件名的日期比较计算得&#x27;</span><br><span class="line">     */</span><br><span class="line">    private String ODATE;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;观测时间（时分）指观测时间YYGGgg 中的GGgg ，例如0100 ，表示实况的观测时间为01 时00 分&#x27;</span><br><span class="line">     */</span><br><span class="line">    private String OTIME;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 自动报告标识符,报告中若有AUTO ，则为1，否则为0</span><br><span class="line">     */</span><br><span class="line">    private String AUTOFLAG;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;风向，来自报告中的ddd or VRB,如果为VRB，则存储为-2,如果为///, 则存储为-1 &#x27;</span><br><span class="line">     */</span><br><span class="line">    private String WINDDIRECTION;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;平均风速，来自报告中的ff, 如果为///，则存储为-1&#x27;</span><br><span class="line">     */</span><br><span class="line">    private String AVGWINDSPEED;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 没有不显示 &#x27;最大风速（阵风），来自报告中的fmfm 如果为///，则存储为-1 &#x27;</span><br><span class="line">     */</span><br><span class="line">    private String MAXWINDSPEED;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 没有不显示 &#x27;重大风向变化，来自报告中的dndndnVdxdxdx ，风向变化起点，风向变化终点，以V 分隔&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String WINDDIRECTIONCHANGE;</span><br><span class="line">    /**</span><br><span class="line">     * 最小能见度,来自报告中的VVVV, 如果为////，则存储为-1 &#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String MINVISIBILITY;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;最小能见度方向，来自报告中的DV，方向不明则存储为//或者NDV &#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String MINVISIBILITYDIRECTION;</span><br><span class="line">    /**</span><br><span class="line">     * 最大能见度，来自报告中的VXVXVXVX, 如果为////，则存储为-1 &#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String MAXVISIBILITY;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;最大能见度的方向，来自报告中的DV， 方向不明则存储为//或者NDV &#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String MAXVISIBILITYDIRECTION;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;跑道条数，报告中无对应字段，需要计算得出。&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String RWYCOUNT;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 跑道信息 &#x27;跑道编号， 来自报告中的DRDR,各跑道编号以“&amp;” 分隔，如果跑道编号不明则用///表示。如果报告中跑道编号带L 或R 或C，则L、R、C 也要存储。&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String RWYID;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;跑道视程， 来自报告中的VRVRVRVR 各跑道视程以“&amp;”分隔，如果跑道视程不明则用//// 表示&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String RWYSIGHT;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;跑道视程的变化，来自报告中的VRVRVRVR 各跑道视程变化以“&amp;”分隔，如果跑道视程变化不明则用//// 表示，VRVRVRVR 用4 位数字表示&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String RWYSIGHTCHANGE;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;跑道视程值的趋势，来自报告中的i 。各跑道视程值的趋势以“&amp;”分隔，如果趋势不明,则用/表示，如果无趋势则用空字符串表示&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String RWYSIGHTTREND;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x27;是否无重要天气现象，来自报告中的CAVOK ，若无重要天气现象则填入1，此时最小能见度设定为9999，否则为0 &#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String CAVOKFLAG;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;现在天气的组数&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String WEATHERCOUNT;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;现在天气， 来自报告中的w&#x27;&#x27;w&#x27;&#x27; ，各组天气以“&amp;”分隔&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String WEATHERINFO;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;云组的个数&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String CLOUDCOUNT;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;云量云高云状，各组用“&amp;” 分隔，云量云高云状之间用：分隔,如果云状不明，则用/// 表示，如果云状不存在，则用空字符串表示&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String CLOUDINFO;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;垂直能见度，如果不明则用-1 表示&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String VERTICALVISIBILITY;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;晴空，来自报告中的SKC， 报告中有SKC,则填入1，否则填入0 &#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String SKCFLAG;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;无重要云， 来自报告中的NSC，报告中有SKC,则填入1，否则填入0 &#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String NSCFLAG;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;无云，来自报告中的NCD， 报告中有SKC,则填入1，否则填入0 &#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String NCDFLAG;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;气温，来自报告中的T&#x27;&#x27;T&#x27;&#x27; &#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String TEMPERATURE;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;露点温度， 来自报告中的T&#x27;&#x27;dT&#x27;&#x27;d &#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String DEWPOINTTEMPERATURE;</span><br><span class="line">    /**</span><br><span class="line">     * 气压值，来自报告中的PHPHPHPH, 以百帕为单位, 气压不明则用-1 表示&#x27;</span><br><span class="line">     */</span><br><span class="line">    private String AIRPRESSURE;</span><br><span class="line">    /**</span><br><span class="line">     * 近时天气的组数</span><br><span class="line">     */</span><br><span class="line">    private String REWEATHERCOUNT;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;近时天气，来自报告中RE w&#x27;&#x27;w&#x27;&#x27; 的w&#x27;&#x27;w&#x27;&#x27; ，各组天气以“&amp;”分隔&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String REWEATHERINFO;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;风切变组数&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String WSCOUNT;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 没有不显示 &#x27;风切变，来自报告中的WS， 各组以“&amp;”分隔&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String WSINFO;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;海面温度,来自报告中的WT&#x27;&#x27;T&#x27;&#x27;/Sn 中的T&#x27;&#x27;T&#x27;&#x27; &#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String SEATEMPERATURE;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;海的状况, 来自报告中的WT&#x27;&#x27;T&#x27;&#x27;/Sn 中的n &#x27;</span><br><span class="line">     */</span><br><span class="line">    private String SEASTATE;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;跑道状况,来自报告中的┌ D1PD2R DRDR │ or └ CLRDXX 包括跑道编号，跑道堆积物，跑道污染的范围，跑道堆积物深度，跑道摩擦系数。如果SNOCLO，则直接保存SNOCLO &#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String RWYSTATE;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;趋势预报组数&#x27;</span><br><span class="line">     */</span><br><span class="line">    private String TRENDFORECASTCOUNT;</span><br><span class="line">    /**</span><br><span class="line">     * &#x27;趋势预报， 来自报告中的BECMG 或TEMPO，各预报以“&amp;”分隔&#x27;,</span><br><span class="line">     */</span><br><span class="line">    private String TRENDFORECASTINFO;</span><br><span class="line">    /**</span><br><span class="line">     * 资料参照时间取自报告表对应记录的RefTime</span><br><span class="line">     */</span><br><span class="line">    private String REFTIME;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x27;资料参照时间取自报告表对应记录的RefTime&#x27;,  rpt01_cac b表原报文信息</span><br><span class="line">     */</span><br><span class="line">    private String RPTCONTENT;</span><br><span class="line">    /**</span><br><span class="line">     * 天气现象描述信息</span><br><span class="line">     */</span><br><span class="line">    private List&lt;String&gt; weatherInfoValue;</span><br><span class="line">    /**</span><br><span class="line">     * 云要素描述信息</span><br><span class="line">     */</span><br><span class="line">    private List&lt;WeatherChangeInfoVO&gt; cloudInfoValue;</span><br><span class="line">    /**</span><br><span class="line">     * 趋势变化情况描述</span><br><span class="line">     */</span><br><span class="line">    private List&lt;String&gt; trendforecasTinfoValue;</span><br><span class="line">    /**</span><br><span class="line">     * 跑道视成趋势</span><br><span class="line">     */</span><br><span class="line">    private String RWYSightTrendValue;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 预警值   (包装查询机场得所有预警值)</span><br><span class="line">     */</span><br><span class="line">    private List&lt;WeatherWarning&gt; warning;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 云信息</span><br><span class="line">     */</span><br><span class="line">    private String cloudDescribe;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 天气图标值</span><br><span class="line">     */</span><br><span class="line">    private String cloudPic;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 平均风速背景色  orange；reed; white</span><br><span class="line">     */</span><br><span class="line">    private String avgwindspeedColor;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">package com.xjcares.common.dto.weather;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Create by JYH  2018/3/27 11:06</span><br><span class="line"> * 包装天气变化信息</span><br><span class="line"> * app_weather_cloud_info</span><br><span class="line"> * app_weather_phenomenon_info</span><br><span class="line"> * @author JYH</span><br><span class="line"> */</span><br><span class="line">public class WeatherChangeInfoVO &#123;</span><br><span class="line"></span><br><span class="line">    private Integer id;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 天气值</span><br><span class="line">     */</span><br><span class="line">    private String element;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 天气值解释信息</span><br><span class="line">     */</span><br><span class="line">    private String describe;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 云描述</span><br><span class="line">     */</span><br><span class="line">    private String cloudInfo;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 云高</span><br><span class="line">     */</span><br><span class="line">    private Integer cloudHeight;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 云状</span><br><span class="line">     */</span><br><span class="line">    private String cloudForm;</span><br><span class="line"></span><br><span class="line">    public Integer getId() &#123;</span><br><span class="line">        return id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setId(Integer id) &#123;</span><br><span class="line">        this.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getElement() &#123;</span><br><span class="line">        return element;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setElement(String element) &#123;</span><br><span class="line">        this.element = element;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getDescribe() &#123;</span><br><span class="line">        return describe;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setDescribe(String describe) &#123;</span><br><span class="line">        this.describe = describe;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getCloudInfo() &#123;</span><br><span class="line">        return cloudInfo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setCloudInfo(String cloudInfo) &#123;</span><br><span class="line">        this.cloudInfo = cloudInfo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Integer getCloudHeight() &#123;</span><br><span class="line">        return cloudHeight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setCloudHeight(Integer cloudHeight) &#123;</span><br><span class="line">        this.cloudHeight = cloudHeight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getCloudForm() &#123;</span><br><span class="line">        return cloudForm;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setCloudForm(String cloudForm) &#123;</span><br><span class="line">        this.cloudForm = cloudForm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结束</p><h4 id="配置结果"><a href="#配置结果" class="headerlink" title="配置结果"></a>配置结果</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">server:</span><br><span class="line">  allowTools:</span><br><span class="line">  - <span class="string">&quot;get-airport-weather&quot;</span></span><br><span class="line">  name: <span class="string">&quot;weather-service&quot;</span></span><br><span class="line">tools:</span><br><span class="line">- args:</span><br><span class="line">  - description: <span class="string">&quot;机场三字码，例如URC、PEK、PVG&quot;</span></span><br><span class="line">    name: <span class="string">&quot;airportCode&quot;</span></span><br><span class="line">    position: <span class="string">&quot;body&quot;</span></span><br><span class="line">    required: <span class="literal">true</span></span><br><span class="line">    <span class="built_in">type</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">  - description: <span class="string">&quot;认证Token&quot;</span></span><br><span class="line">    name: <span class="string">&quot;Authorization&quot;</span></span><br><span class="line">    position: <span class="string">&quot;header&quot;</span></span><br><span class="line">    required: <span class="literal">true</span></span><br><span class="line">    <span class="built_in">type</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">  description: <span class="string">&quot;获取机场半小时天气数据&quot;</span></span><br><span class="line">  name: <span class="string">&quot;get-airport-weather&quot;</span></span><br><span class="line">  requestTemplate:</span><br><span class="line">    body: |</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;entity&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;airportCode&quot;</span>: <span class="string">&quot;&#123;&#123;.args.airportCode&#125;&#125;&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    headers:</span><br><span class="line">    - key: <span class="string">&quot;Content-Type&quot;</span></span><br><span class="line">      value: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">    - key: <span class="string">&quot;Authorization&quot;</span></span><br><span class="line">      value: <span class="string">&quot;&#123;&#123;.args.Authorization&#125;&#125;&quot;</span></span><br><span class="line">    method: <span class="string">&quot;POST&quot;</span></span><br><span class="line">    url: <span class="string">&quot;http://production-service/production-service/app/production/weather/getWeatherPredictionByHour&quot;</span></span><br><span class="line">  responseTemplate:</span><br><span class="line">    body: <span class="string">&quot;&#123;&#123;- if eq .status \&quot;200\&quot; &#125;&#125;\n## &#123;&#123; .result.cccc &#125;&#125; 机场半小时天气报告\n\n**观测时间\</span></span><br><span class="line"><span class="string">      **: &#123;&#123; .result.odate &#125;&#125; &#123;&#123; .result.otime &#125;&#125; UTC  \n**接收时间**: &#123;&#123; .result.receivetime\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;  \n**报告ID**: &#123;&#123; .result.reportid &#125;&#125;\n\n### 基本气象要素\n- **风向**: &#123;&#123; .result.winddirection\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;°\n- **平均风速**: &#123;&#123; .result.avgwindspeed &#125;&#125; m/s (&#123;&#123; .result.avgwindspeedColor\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;)\n- **气温**: &#123;&#123; .result.temperature &#125;&#125;°C\n- **露点温度**: &#123;&#123; .result.dewpointtemperature\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;°C\n- **气压**: &#123;&#123; .result.airpressure &#125;&#125; hPa\n- **能见度**: &#123;&#123; .result.minvisibility\</span></span><br><span class="line"><span class="string">      \ &#125;&#125; 米\n\n### 云况信息\n&#123;&#123;- if eq .result.nscflag \&quot;1\&quot; &#125;&#125;\n- **云况**: 无重要云 (NSC)\n\</span></span><br><span class="line"><span class="string">      &#123;&#123;- else &#125;&#125;\n&#123;&#123;- if .result.cloudInfoValue &#125;&#125;\n&#123;&#123;- range .result.cloudInfoValue\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;\n&#123;&#123;- if .cloudInfo &#125;&#125;\n- **&#123;&#123; .cloudInfo &#125;&#125;**\n  &#123;&#123;- if .cloudHeight &#125;&#125;，\</span></span><br><span class="line"><span class="string">      云高: &#123;&#123; .cloudHeight &#125;&#125; 米&#123;&#123; end &#125;&#125;\n  &#123;&#123;- if .cloudForm &#125;&#125;，云状: &#123;&#123; .cloudForm\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;&#123;&#123; end &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n\n### 跑道视程\n\</span></span><br><span class="line"><span class="string">      &#123;&#123;- if .result.rwysight &#125;&#125;\n- **跑道视程**: &#123;&#123; .result.rwysight &#125;&#125; 米\n&#123;&#123;- if .result.rwysightchange\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;\n  - **变化趋势**: &#123;&#123; .result.rwysightchange &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n&#123;&#123;- else &#125;&#125;\n\</span></span><br><span class="line"><span class="string">      - **跑道视程**: 无数据\n&#123;&#123;- end &#125;&#125;\n\n### 天气现象\n&#123;&#123;- if .result.weatherInfoValue &#125;&#125;\n\</span></span><br><span class="line"><span class="string">      &#123;&#123;- range .result.weatherInfoValue &#125;&#125;\n&#123;&#123;- if . &#125;&#125;\n- **天气现象**: &#123;&#123; . &#125;&#125;\n&#123;&#123;-\</span></span><br><span class="line"><span class="string">      \ end &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n\n### 预警信息\n&#123;&#123;- if .result.warning &#125;&#125;\n&#123;&#123;-\</span></span><br><span class="line"><span class="string">      \ range .result.warning &#125;&#125;\n&#123;&#123;- if eq .type \&quot;windspeed\&quot; &#125;&#125;\n- **风速预警**: 黄色\</span></span><br><span class="line"><span class="string">      阈值 &#123;&#123; .yellow &#125;&#125; m/s，红色阈值 &#123;&#123; .red &#125;&#125; m/s\n&#123;&#123;- else if eq .type \&quot;RVR\&quot; &#125;&#125;\n\</span></span><br><span class="line"><span class="string">      - **跑道视程预警**: 黄色阈值 &#123;&#123; .yellow &#125;&#125; 米，红色阈值 &#123;&#123; .red &#125;&#125; 米\n&#123;&#123;- else &#125;&#125;\n- **&#123;&#123; .type\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;预警**: 黄色阈值 &#123;&#123; .yellow &#125;&#125;，红色阈值 &#123;&#123; .red &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n&#123;&#123;- else\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;\n&gt; 无预警信息\n&#123;&#123;- end &#125;&#125;\n\n### 原始报文\n```\n&#123;&#123; .result.rptcontent &#125;&#125;\n```\n\n\</span></span><br><span class="line"><span class="string">      ---\n&#123;&#123;- else &#125;&#125;\n## 请求失败\n- **状态码**: &#123;&#123;.status&#125;&#125;\n- **错误信息**: &#123;&#123;.message&#125;&#125;\n\</span></span><br><span class="line"><span class="string">      &#123;&#123;- end &#125;&#125;&quot;</span></span><br></pre></td></tr></table></figure><h3 id="24小时天气"><a href="#24小时天气" class="headerlink" title="24小时天气"></a>24小时天气</h3><p>搜索higress的mcp服务器插件配置语法，并模仿如下配置生成一个新配置：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">server:</span><br><span class="line">  allowTools:</span><br><span class="line">  - <span class="string">&quot;get-airport-weather&quot;</span></span><br><span class="line">  name: <span class="string">&quot;weather-service&quot;</span></span><br><span class="line">tools:</span><br><span class="line">- args:</span><br><span class="line">  - description: <span class="string">&quot;机场三字码，例如URC、PEK、PVG&quot;</span></span><br><span class="line">    name: <span class="string">&quot;airportCode&quot;</span></span><br><span class="line">    position: <span class="string">&quot;body&quot;</span></span><br><span class="line">    required: <span class="literal">true</span></span><br><span class="line">    <span class="built_in">type</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">  - description: <span class="string">&quot;认证Token&quot;</span></span><br><span class="line">    name: <span class="string">&quot;Authorization&quot;</span></span><br><span class="line">    position: <span class="string">&quot;header&quot;</span></span><br><span class="line">    required: <span class="literal">true</span></span><br><span class="line">    <span class="built_in">type</span>: <span class="string">&quot;string&quot;</span></span><br><span class="line">  description: <span class="string">&quot;获取机场半小时天气数据&quot;</span></span><br><span class="line">  name: <span class="string">&quot;get-airport-weather&quot;</span></span><br><span class="line">  requestTemplate:</span><br><span class="line">    body: |</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;entity&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;airportCode&quot;</span>: <span class="string">&quot;&#123;&#123;.args.airportCode&#125;&#125;&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    headers:</span><br><span class="line">    - key: <span class="string">&quot;Content-Type&quot;</span></span><br><span class="line">      value: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">    - key: <span class="string">&quot;Authorization&quot;</span></span><br><span class="line">      value: <span class="string">&quot;&#123;&#123;.args.Authorization&#125;&#125;&quot;</span></span><br><span class="line">    method: <span class="string">&quot;POST&quot;</span></span><br><span class="line">    url: <span class="string">&quot;http://production-service/production-service/app/production/weather/getWeatherPredictionByHour&quot;</span></span><br><span class="line">  responseTemplate:</span><br><span class="line">    body: <span class="string">&quot;&#123;&#123;- if eq .status \&quot;200\&quot; &#125;&#125;\n## &#123;&#123; .result.cccc &#125;&#125; 机场半小时天气报告\n\n**观测时间\</span></span><br><span class="line"><span class="string">      **: &#123;&#123; .result.odate &#125;&#125; &#123;&#123; .result.otime &#125;&#125; UTC  \n**接收时间**: &#123;&#123; .result.receivetime\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;  \n**报告ID**: &#123;&#123; .result.reportid &#125;&#125;\n\n### 基本气象要素\n- **风向**: &#123;&#123; .result.winddirection\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;°\n- **平均风速**: &#123;&#123; .result.avgwindspeed &#125;&#125; m/s (&#123;&#123; .result.avgwindspeedColor\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;)\n- **气温**: &#123;&#123; .result.temperature &#125;&#125;°C\n- **露点温度**: &#123;&#123; .result.dewpointtemperature\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;°C\n- **气压**: &#123;&#123; .result.airpressure &#125;&#125; hPa\n- **能见度**: &#123;&#123; .result.minvisibility\</span></span><br><span class="line"><span class="string">      \ &#125;&#125; 米\n\n### 云况信息\n&#123;&#123;- if eq .result.nscflag \&quot;1\&quot; &#125;&#125;\n- **云况**: 无重要云 (NSC)\n\</span></span><br><span class="line"><span class="string">      &#123;&#123;- else &#125;&#125;\n&#123;&#123;- if .result.cloudInfoValue &#125;&#125;\n&#123;&#123;- range .result.cloudInfoValue\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;\n&#123;&#123;- if .cloudInfo &#125;&#125;\n- **&#123;&#123; .cloudInfo &#125;&#125;**\n  &#123;&#123;- if .cloudHeight &#125;&#125;，\</span></span><br><span class="line"><span class="string">      云高: &#123;&#123; .cloudHeight &#125;&#125; 米&#123;&#123; end &#125;&#125;\n  &#123;&#123;- if .cloudForm &#125;&#125;，云状: &#123;&#123; .cloudForm\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;&#123;&#123; end &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n\n### 跑道视程\n\</span></span><br><span class="line"><span class="string">      &#123;&#123;- if .result.rwysight &#125;&#125;\n- **跑道视程**: &#123;&#123; .result.rwysight &#125;&#125; 米\n&#123;&#123;- if .result.rwysightchange\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;\n  - **变化趋势**: &#123;&#123; .result.rwysightchange &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n&#123;&#123;- else &#125;&#125;\n\</span></span><br><span class="line"><span class="string">      - **跑道视程**: 无数据\n&#123;&#123;- end &#125;&#125;\n\n### 天气现象\n&#123;&#123;- if .result.weatherInfoValue &#125;&#125;\n\</span></span><br><span class="line"><span class="string">      &#123;&#123;- range .result.weatherInfoValue &#125;&#125;\n&#123;&#123;- if . &#125;&#125;\n- **天气现象**: &#123;&#123; . &#125;&#125;\n&#123;&#123;-\</span></span><br><span class="line"><span class="string">      \ end &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n\n### 预警信息\n&#123;&#123;- if .result.warning &#125;&#125;\n&#123;&#123;-\</span></span><br><span class="line"><span class="string">      \ range .result.warning &#125;&#125;\n&#123;&#123;- if eq .type \&quot;windspeed\&quot; &#125;&#125;\n- **风速预警**: 黄色\</span></span><br><span class="line"><span class="string">      阈值 &#123;&#123; .yellow &#125;&#125; m/s，红色阈值 &#123;&#123; .red &#125;&#125; m/s\n&#123;&#123;- else if eq .type \&quot;RVR\&quot; &#125;&#125;\n\</span></span><br><span class="line"><span class="string">      - **跑道视程预警**: 黄色阈值 &#123;&#123; .yellow &#125;&#125; 米，红色阈值 &#123;&#123; .red &#125;&#125; 米\n&#123;&#123;- else &#125;&#125;\n- **&#123;&#123; .type\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;预警**: 黄色阈值 &#123;&#123; .yellow &#125;&#125;，红色阈值 &#123;&#123; .red &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n&#123;&#123;- end &#125;&#125;\n&#123;&#123;- else\</span></span><br><span class="line"><span class="string">      \ &#125;&#125;\n&gt; 无预警信息\n&#123;&#123;- end &#125;&#125;\n\n### 原始报文\n```\n&#123;&#123; .result.rptcontent &#125;&#125;\n```\n\n\</span></span><br><span class="line"><span class="string">      ---\n&#123;&#123;- else &#125;&#125;\n## 请求失败\n- **状态码**: &#123;&#123;.status&#125;&#125;\n- **错误信息**: &#123;&#123;.message&#125;&#125;\n\</span></span><br><span class="line"><span class="string">      &#123;&#123;- end &#125;&#125;&quot;</span></span><br></pre></td></tr></table></figure><p>新配置的功能是获取9小时或者24小时天气数据，url是<a href="http://172.31.70.156:8080/production-service/app/production/weather/getWeatherPrediction，是POST请求，入参有airportCode，是机场三字码，timeInterval，天气类型（FC">http://172.31.70.156:8080/production-service/app/production/weather/getWeatherPrediction，是POST请求，入参有airportCode，是机场三字码，timeInterval，天气类型（FC</a> 9小时； FT 24小时），入参json是这样的：{“entity”: {“airportCode”: “URC”, “timeInterval”: “FT”}}。返回的结果是这样的：</p><p>{<br>  “status”: “200”,<br>  “message”: null,<br>  “result”: {<br>    “visibilityColor”: 0,<br>    “avgWindColor”: 0,<br>    “tempColor”: 0,<br>    “lowTempColor”: 0,<br>    “highTempColor”: 0,<br>    “visibilityColorAlertValue”: null,<br>    “avgWindColorAlertValue”: null,<br>    “tempColorAlertValue”: null,<br>    “winddirectionAlertValue”: null,<br>    “phenomenonDescribe”: “无数据”,<br>    “cloudDescribe”: “无重要云”,<br>    “temperatureMap”: {<br>      “min”: “11-06 02时,最低温度为01℃”,<br>      “max”: “11-04 20时,最高温度为09℃”<br>    },<br>    “changeInfoMap”: {<br>      “becmgInfo”: [<br>        “2025-11-04 21时到04日22时  <br/>预期变化： 风向:180 风速:03 “,<br>        “2025-11-05 07时到05日08时  <br/>预期变化： 风向:340 风速:04 最大风速:09 能见度:2500 小雨 多云 阴天 “,<br>        “2025-11-05 12时到05日13时  <br/>预期变化： 小雨加雪 “,<br>        “2025-11-05 16时到05日17时  <br/>预期变化： 小雪 “,<br>        “2025-11-05 17时到05日18时  <br/>预期变化： 能见度:0800 雪 多云 阴天 “<br>      ]<br>    },<br>    “warning”: [<br>      {<br>        “wid”: 1,<br>        “yellow”: “8”,<br>        “red”: “14”,<br>        “type”: “windspeed”,<br>        “airportCode”: “URC”<br>      },<br>      {<br>        “wid”: 2,<br>        “yellow”: “800”,<br>        “red”: “550”,<br>        “type”: “RVR”,<br>        “airportCode”: “URC”<br>      }<br>    ],<br>    “yellowSpeed”: null,<br>    “redSpeed”: null,<br>    “yellowRVR”: null,<br>    “redRVR”: null,<br>    “maxwindspeedcolor”: null,<br>    “windspeedcolor”: “white”,<br>    “temperatureMax”: null,<br>    “temperatureMin”: null,<br>    “cloudPic”: null,<br>    “weatherinfo”: null,<br>    “cloudinfo”: “NSC”,<br>    “cavok”: null,<br>    “otime”: “0902”,<br>    “odate”: “20251104”,<br>    “becmginfo”: “BECMG 0413/0414 18003MPS&amp;BECMG 0423/0424 34004G09MPS 2500 -RA BKN006 OVC020&amp;BECMG 0504/0505 -RASN&amp;BECMG 0508/0509 -SN&amp;BECMG 0509/0510 0800 SN BKN002 OVC011”,<br>    “tempoinfo”: null,<br>    “rptcontent”: “TAF ZWWW 040902Z 0412/0518 36003MPS 6000 NSC TX09/0412Z TN06/0423Z TN01/0518Z BECMG 0413/0414 18003MPS BECMG 0423/0424 34004G09MPS 2500 -RA BKN006 OVC020 BECMG 0504/0505 -RASN BECMG 0508/0509 -SN BECMG 0509/0510 0800 SN BKN002 OVC011= “,<br>    “verticalvisibility”: null,<br>    “winddirection”: “360”,<br>    “inserttime”: “2025-11-04 09:10:05”,<br>    “reftime”: “2025-11-04 17:02:00”,<br>    “vtime”: “(有效期:2025-11-04 20:00:00\t\t2025-11-06 02:00:00)”,<br>    “maxwindspeed”: null,<br>    “windspeed”: “3”,<br>    “receivetime”: “2025-11-04 09:10:04”,<br>    “temperature”: “ TX09/0412Z TN06/0423Z TN01/0518Z”,<br>    “cloudcount”: “1”,<br>    “cccc”: “ZWWW”,<br>    “skcflag”: null,<br>    “nscflag”: “1”,<br>    “becmgcount”: “5”,<br>    “tempocount”: null,<br>    “fmcount”: null,<br>    “fminfo”: null,<br>    “probcount”: null,<br>    “probinfo”: null,<br>    “rptstate”: 0,<br>    “reportid”: “c20251104091201373TXT0028001”,<br>    “tt”: “FT”,<br>    “aa”: “CI”,<br>    “kk”: “39”,<br>    “headdate”: “20251104”,<br>    “headtime”: “0902”,<br>    “bbb”: null,<br>    “obcc”: “ZWWW”,<br>    “forecastperiod”: “2025110412/2025110518”,<br>    “levelvisibility”: “6000”,<br>    “nswflag”: null,<br>    “weathercount”: null<br>  },<br>  “callback”: null<br>}</p><p>相关的代码是这样的：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br></pre></td><td class="code"><pre><span class="line">package com.xjcares.common.dto.weather;</span><br><span class="line"></span><br><span class="line">import com.xjcares.common.vo.security.WeatherColorVo;</span><br><span class="line">import io.swagger.annotations.ApiModelProperty;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 获取天气预报(timeInterval  FC 9小时 FT 24小时)</span><br><span class="line"> * 表ele01_fcft字段</span><br><span class="line"> *</span><br><span class="line"> * @author root</span><br><span class="line"> */</span><br><span class="line">public class WeatherPrediction extends WeatherColorVo &#123;</span><br><span class="line">    /**</span><br><span class="line">     * 公报id</span><br><span class="line">     */</span><br><span class="line">    @ApiModelProperty(value = &quot;公报id&quot;)</span><br><span class="line">    private String REPORTID;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 发布中心代码</span><br><span class="line">     */</span><br><span class="line">    @ApiModelProperty(value = &quot;发布中心代码&quot;)</span><br><span class="line">    private String CCCC;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 收到时间</span><br><span class="line">     */</span><br><span class="line">    @ApiModelProperty(value = &quot;收到时间&quot;)</span><br><span class="line">    private String RECEIVETIME;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 入库时间</span><br><span class="line">     */</span><br><span class="line">    @ApiModelProperty(value = &quot;入库时间&quot;)</span><br><span class="line">    private String INSERTTIME;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 公报报类</span><br><span class="line">     */</span><br><span class="line">    @ApiModelProperty(value = &quot;公报报类&quot;)</span><br><span class="line">    private String TT;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 国家代码</span><br><span class="line">     */</span><br><span class="line">    @ApiModelProperty(value = &quot;国家代码&quot;)</span><br><span class="line">    private String AA;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 区域标识码</span><br><span class="line">     */</span><br><span class="line">    @ApiModelProperty(value = &quot;区域标识码&quot;)</span><br><span class="line">    private String KK;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 转发报日期</span><br><span class="line">     */</span><br><span class="line">    @ApiModelProperty(value = &quot;转发报日期&quot;)</span><br><span class="line">    private String HEADDATE;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 转发报时间</span><br><span class="line">     */</span><br><span class="line">    @ApiModelProperty(value = &quot;转发报时间&quot;)</span><br><span class="line">    private String HEADTIME;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 修订更正标识码</span><br><span class="line">     */</span><br><span class="line">    @ApiModelProperty(value = &quot;修订更正标识码&quot;)</span><br><span class="line">    private String BBB;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 航站码</span><br><span class="line">     */</span><br><span class="line">    private String OBCC;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 资料采集的年月日，报文首行</span><br><span class="line">     */</span><br><span class="line">    private String ODATE;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 资料采集的时分，来字报文首行</span><br><span class="line">     */</span><br><span class="line">    private String OTIME;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 预报时段</span><br><span class="line">     */</span><br><span class="line">    private String FORECASTPERIOD;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 风向</span><br><span class="line">     */</span><br><span class="line">    private String WINDDIRECTION;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 风速</span><br><span class="line">     */</span><br><span class="line">    private String WINDSPEED;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 最大风速，没有值不显示</span><br><span class="line">     */</span><br><span class="line">    private String MAXWINDSPEED;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 无CAVOK 为0，有CAVOK 为1</span><br><span class="line">     */</span><br><span class="line">    private String CAVOK;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 水平能见度</span><br><span class="line">     */</span><br><span class="line">    private String LEVELVISIBILITY;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 无重要天气无NSW 为0，有NSW 为1</span><br><span class="line">     */</span><br><span class="line">    private String NSWFLAG;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 重要天气现象组数</span><br><span class="line">     */</span><br><span class="line">    private String WEATHERCOUNT;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 重要天气现象</span><br><span class="line">     */</span><br><span class="line">    private String WEATHERINFO;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 碧空（无SKC 为0，有SKC 为1）</span><br><span class="line">     */</span><br><span class="line">    private String SKCFLAG;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 无重要云（无NSC 为0，有NSC 为1）</span><br><span class="line">     */</span><br><span class="line">    private String NSCFLAG;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 云要素数目i，与CloudInfo 有关</span><br><span class="line">     */</span><br><span class="line">    private String CLOUDCOUNT;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 云要素</span><br><span class="line">     */</span><br><span class="line">    private String CLOUDINFO;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * VVnnn 中的nnn ，垂直能见度（VV///记-1）</span><br><span class="line">     */</span><br><span class="line">    private String VERTICALVISIBILITY;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 温度要素（按实际报文存放）TX32/20 TN20/11Z 或T32/02 T26/10</span><br><span class="line">     */</span><br><span class="line">    private String TEMPERATURE;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * BECMG 变化组天气数目i，与BECMGInfo 有关</span><br><span class="line">     */</span><br><span class="line">    private String BECMGCOUNT;</span><br><span class="line">    /**</span><br><span class="line">     * BECMG 变化组之间以“&amp;”分割，变化组内部要素以“:” 分割，缺字段填空格如：时段1:风1:能见度1:天气1:云1&amp;...&amp;时段i:风i ): 天气i:云i，i 为变化组要素个数，由BECMGCount 描述</span><br><span class="line">     */</span><br><span class="line">    private String BECMGINFO;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * TEMPO 变化组天气数目i，与TEMPOInfo 有关</span><br><span class="line">     */</span><br><span class="line">    private String TEMPOCOUNT;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * TEMPO 变化组之间以“&amp;”分割。不分解，存原文</span><br><span class="line">     */</span><br><span class="line">    private String TEMPOINFO;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * FM 变化组天气数目i，与FMInfo 有关</span><br><span class="line">     */</span><br><span class="line">    private String FMCOUNT;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * FM 变化组之间以“&amp;”分割。不分解，存原文</span><br><span class="line">     */</span><br><span class="line">    private String FMINFO;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * PROB 变化组天气数目i ，与PROBInfo 有关</span><br><span class="line">     */</span><br><span class="line">    private String PROBCOUNT;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * PROB 变化组之间以“&amp;”分割。不分解，存原文</span><br><span class="line">     */</span><br><span class="line">    private String PROBINFO;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 资料参照时间取自报告表对应记录的RefTime</span><br><span class="line">     */</span><br><span class="line">    @ApiModelProperty(value = &quot;发布时间&quot;)</span><br><span class="line">    private String REFTIME;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 表rpt01_cac 私有字段 有效时间</span><br><span class="line">     */</span><br><span class="line">    @ApiModelProperty(value = &quot;有效时间&quot;)</span><br><span class="line">    private String VTIME;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 报告内容</span><br><span class="line">     */</span><br><span class="line">    @ApiModelProperty(value = &quot;报告内容，一长串内容&quot;)</span><br><span class="line">    private String RPTCONTENT;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 状态标示</span><br><span class="line">     */</span><br><span class="line">    @ApiModelProperty(value = &quot;状态标示&quot;)</span><br><span class="line">    private double RPTSTATE;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 用于包装天气现象描述信息</span><br><span class="line">     * 天气</span><br><span class="line">     */</span><br><span class="line">    private String phenomenonDescribe;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 云信息</span><br><span class="line">     */</span><br><span class="line">    private String cloudDescribe;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 最低最高温度信息</span><br><span class="line">     */</span><br><span class="line">    private Map&lt;String, String&gt; temperatureMap;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 天气变化信息</span><br><span class="line">     */</span><br><span class="line">    private Map&lt;String, String[]&gt; changeInfoMap;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 预警值   (包装查询机场得所有预警值)</span><br><span class="line">     */</span><br><span class="line">    private List&lt;WeatherWarning&gt; warning;</span><br><span class="line"></span><br><span class="line">    //---------------------------------------------------------设置前台使用值---------------------------------------------</span><br><span class="line">    private Integer yellowSpeed;</span><br><span class="line">    private Integer redSpeed;</span><br><span class="line">    private Integer yellowRVR;</span><br><span class="line">    private Integer redRVR;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 最大风速背景色 orange；reed; white</span><br><span class="line">     */</span><br><span class="line">    private String maxwindspeedcolor;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 风速背景色 orange；reed; white</span><br><span class="line">     */</span><br><span class="line">    private String windspeedcolor;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 最高温度</span><br><span class="line">     */</span><br><span class="line">    private String temperatureMax;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 最低温度</span><br><span class="line">     */</span><br><span class="line">    private String temperatureMin;</span><br><span class="line">    /**</span><br><span class="line">     * 天气图标值</span><br><span class="line">     */</span><br><span class="line">    private String cloudPic;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public String getCloudPic() &#123;</span><br><span class="line">        return cloudPic;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setCloudPic(String cloudPic) &#123;</span><br><span class="line">        this.cloudPic = cloudPic;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getTemperatureMax() &#123;</span><br><span class="line">        return temperatureMax;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setTemperatureMax(String temperatureMax) &#123;</span><br><span class="line">        this.temperatureMax = temperatureMax;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getTemperatureMin() &#123;</span><br><span class="line">        return temperatureMin;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setTemperatureMin(String temperatureMin) &#123;</span><br><span class="line">        this.temperatureMin = temperatureMin;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getWindspeedcolor() &#123;</span><br><span class="line">        return windspeedcolor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setWindspeedcolor(String windspeedcolor) &#123;</span><br><span class="line">        this.windspeedcolor = windspeedcolor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getMaxwindspeedcolor() &#123;</span><br><span class="line">        return maxwindspeedcolor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setMaxwindspeedcolor(String maxwindspeedcolor) &#123;</span><br><span class="line">        this.maxwindspeedcolor = maxwindspeedcolor;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Integer getYellowSpeed() &#123;</span><br><span class="line">        return yellowSpeed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setYellowSpeed(Integer yellowSpeed) &#123;</span><br><span class="line">        this.yellowSpeed = yellowSpeed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Integer getRedSpeed() &#123;</span><br><span class="line">        return redSpeed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setRedSpeed(Integer redSpeed) &#123;</span><br><span class="line">        this.redSpeed = redSpeed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Integer getYellowRVR() &#123;</span><br><span class="line">        return yellowRVR;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setYellowRVR(Integer yellowRVR) &#123;</span><br><span class="line">        this.yellowRVR = yellowRVR;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Integer getRedRVR() &#123;</span><br><span class="line">        return redRVR;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setRedRVR(Integer redRVR) &#123;</span><br><span class="line">        this.redRVR = redRVR;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Map&lt;String, String[]&gt; getChangeInfoMap() &#123;</span><br><span class="line">        return changeInfoMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setChangeInfoMap(Map&lt;String, String[]&gt; changeInfoMap) &#123;</span><br><span class="line">        this.changeInfoMap = changeInfoMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Map&lt;String, String&gt; getTemperatureMap() &#123;</span><br><span class="line">        return temperatureMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setTemperatureMap(Map&lt;String, String&gt; temperatureMap) &#123;</span><br><span class="line">        this.temperatureMap = temperatureMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getPhenomenonDescribe() &#123;</span><br><span class="line">        return phenomenonDescribe;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setPhenomenonDescribe(String phenomenonDescribe) &#123;</span><br><span class="line">        this.phenomenonDescribe = phenomenonDescribe;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getCloudDescribe() &#123;</span><br><span class="line">        return cloudDescribe;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setCloudDescribe(String cloudDescribe) &#123;</span><br><span class="line">        this.cloudDescribe = cloudDescribe;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getREPORTID() &#123;</span><br><span class="line">        return REPORTID;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setREPORTID(String REPORTID) &#123;</span><br><span class="line">        this.REPORTID = REPORTID;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getCCCC() &#123;</span><br><span class="line">        return CCCC;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setCCCC(String CCCC) &#123;</span><br><span class="line">        this.CCCC = CCCC;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getRECEIVETIME() &#123;</span><br><span class="line">        return RECEIVETIME;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setRECEIVETIME(String RECEIVETIME) &#123;</span><br><span class="line">        this.RECEIVETIME = RECEIVETIME;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getINSERTTIME() &#123;</span><br><span class="line">        return INSERTTIME;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setINSERTTIME(String INSERTTIME) &#123;</span><br><span class="line">        this.INSERTTIME = INSERTTIME;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getTT() &#123;</span><br><span class="line">        return TT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setTT(String TT) &#123;</span><br><span class="line">        this.TT = TT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getAA() &#123;</span><br><span class="line">        return AA;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setAA(String AA) &#123;</span><br><span class="line">        this.AA = AA;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getKK() &#123;</span><br><span class="line">        return KK;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setKK(String KK) &#123;</span><br><span class="line">        this.KK = KK;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getHEADDATE() &#123;</span><br><span class="line">        return HEADDATE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setHEADDATE(String HEADDATE) &#123;</span><br><span class="line">        this.HEADDATE = HEADDATE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getHEADTIME() &#123;</span><br><span class="line">        return HEADTIME;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setHEADTIME(String HEADTIME) &#123;</span><br><span class="line">        this.HEADTIME = HEADTIME;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getBBB() &#123;</span><br><span class="line">        return BBB;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setBBB(String BBB) &#123;</span><br><span class="line">        this.BBB = BBB;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getOBCC() &#123;</span><br><span class="line">        return OBCC;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setOBCC(String OBCC) &#123;</span><br><span class="line">        this.OBCC = OBCC;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getODATE() &#123;</span><br><span class="line">        return ODATE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setODATE(String ODATE) &#123;</span><br><span class="line">        this.ODATE = ODATE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getOTIME() &#123;</span><br><span class="line">        return OTIME;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setOTIME(String OTIME) &#123;</span><br><span class="line">        this.OTIME = OTIME;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getFORECASTPERIOD() &#123;</span><br><span class="line">        return FORECASTPERIOD;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setFORECASTPERIOD(String FORECASTPERIOD) &#123;</span><br><span class="line">        this.FORECASTPERIOD = FORECASTPERIOD;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getWINDDIRECTION() &#123;</span><br><span class="line">        return WINDDIRECTION;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setWINDDIRECTION(String WINDDIRECTION) &#123;</span><br><span class="line">        this.WINDDIRECTION = WINDDIRECTION;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getWINDSPEED() &#123;</span><br><span class="line">        return WINDSPEED;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setWINDSPEED(String WINDSPEED) &#123;</span><br><span class="line">        this.WINDSPEED = WINDSPEED;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getMAXWINDSPEED() &#123;</span><br><span class="line">        return MAXWINDSPEED;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setMAXWINDSPEED(String MAXWINDSPEED) &#123;</span><br><span class="line">        this.MAXWINDSPEED = MAXWINDSPEED;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getCAVOK() &#123;</span><br><span class="line">        return CAVOK;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setCAVOK(String CAVOK) &#123;</span><br><span class="line">        this.CAVOK = CAVOK;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getLEVELVISIBILITY() &#123;</span><br><span class="line">        return LEVELVISIBILITY;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setLEVELVISIBILITY(String LEVELVISIBILITY) &#123;</span><br><span class="line">        this.LEVELVISIBILITY = LEVELVISIBILITY;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getNSWFLAG() &#123;</span><br><span class="line">        return NSWFLAG;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setNSWFLAG(String NSWFLAG) &#123;</span><br><span class="line">        this.NSWFLAG = NSWFLAG;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getWEATHERCOUNT() &#123;</span><br><span class="line">        return WEATHERCOUNT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setWEATHERCOUNT(String WEATHERCOUNT) &#123;</span><br><span class="line">        this.WEATHERCOUNT = WEATHERCOUNT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getWEATHERINFO() &#123;</span><br><span class="line">        return WEATHERINFO;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setWEATHERINFO(String WEATHERINFO) &#123;</span><br><span class="line">        this.WEATHERINFO = WEATHERINFO;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getSKCFLAG() &#123;</span><br><span class="line">        return SKCFLAG;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setSKCFLAG(String SKCFLAG) &#123;</span><br><span class="line">        this.SKCFLAG = SKCFLAG;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getNSCFLAG() &#123;</span><br><span class="line">        return NSCFLAG;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setNSCFLAG(String NSCFLAG) &#123;</span><br><span class="line">        this.NSCFLAG = NSCFLAG;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getCLOUDCOUNT() &#123;</span><br><span class="line">        return CLOUDCOUNT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setCLOUDCOUNT(String CLOUDCOUNT) &#123;</span><br><span class="line">        this.CLOUDCOUNT = CLOUDCOUNT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getCLOUDINFO() &#123;</span><br><span class="line">        return CLOUDINFO;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setCLOUDINFO(String CLOUDINFO) &#123;</span><br><span class="line">        this.CLOUDINFO = CLOUDINFO;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getVERTICALVISIBILITY() &#123;</span><br><span class="line">        return VERTICALVISIBILITY;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setVERTICALVISIBILITY(String VERTICALVISIBILITY) &#123;</span><br><span class="line">        this.VERTICALVISIBILITY = VERTICALVISIBILITY;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getTEMPERATURE() &#123;</span><br><span class="line">        return TEMPERATURE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setTEMPERATURE(String TEMPERATURE) &#123;</span><br><span class="line">        this.TEMPERATURE = TEMPERATURE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getBECMGCOUNT() &#123;</span><br><span class="line">        return BECMGCOUNT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setBECMGCOUNT(String BECMGCOUNT) &#123;</span><br><span class="line">        this.BECMGCOUNT = BECMGCOUNT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getBECMGINFO() &#123;</span><br><span class="line">        return BECMGINFO;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setBECMGINFO(String BECMGINFO) &#123;</span><br><span class="line">        this.BECMGINFO = BECMGINFO;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getTEMPOCOUNT() &#123;</span><br><span class="line">        return TEMPOCOUNT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setTEMPOCOUNT(String TEMPOCOUNT) &#123;</span><br><span class="line">        this.TEMPOCOUNT = TEMPOCOUNT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getTEMPOINFO() &#123;</span><br><span class="line">        return TEMPOINFO;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setTEMPOINFO(String TEMPOINFO) &#123;</span><br><span class="line">        this.TEMPOINFO = TEMPOINFO;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getFMCOUNT() &#123;</span><br><span class="line">        return FMCOUNT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setFMCOUNT(String FMCOUNT) &#123;</span><br><span class="line">        this.FMCOUNT = FMCOUNT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getFMINFO() &#123;</span><br><span class="line">        return FMINFO;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setFMINFO(String FMINFO) &#123;</span><br><span class="line">        this.FMINFO = FMINFO;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getPROBCOUNT() &#123;</span><br><span class="line">        return PROBCOUNT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setPROBCOUNT(String PROBCOUNT) &#123;</span><br><span class="line">        this.PROBCOUNT = PROBCOUNT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getPROBINFO() &#123;</span><br><span class="line">        return PROBINFO;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setPROBINFO(String PROBINFO) &#123;</span><br><span class="line">        this.PROBINFO = PROBINFO;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getREFTIME() &#123;</span><br><span class="line">        return REFTIME;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setREFTIME(String REFTIME) &#123;</span><br><span class="line">        this.REFTIME = REFTIME;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getVTIME() &#123;</span><br><span class="line">        return VTIME;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setVTIME(String VTIME) &#123;</span><br><span class="line">        this.VTIME = VTIME;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getRPTCONTENT() &#123;</span><br><span class="line">        return RPTCONTENT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setRPTCONTENT(String RPTCONTENT) &#123;</span><br><span class="line">        this.RPTCONTENT = RPTCONTENT;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public double getRPTSTATE() &#123;</span><br><span class="line">        return RPTSTATE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setRPTSTATE(double RPTSTATE) &#123;</span><br><span class="line">        this.RPTSTATE = RPTSTATE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public List&lt;WeatherWarning&gt; getWarning() &#123;</span><br><span class="line">        return warning;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setWarning(List&lt;WeatherWarning&gt; warning) &#123;</span><br><span class="line">        this.warning = warning;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line">package com.xjcares.common.vo.security;</span><br><span class="line"></span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">import javax.persistence.Transient;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 能见度和温度的颜色</span><br><span class="line"> */</span><br><span class="line">@Data</span><br><span class="line">public class WeatherColorVo &#123;</span><br><span class="line">    @Transient</span><br><span class="line">    private int visibilityColor;</span><br><span class="line">    @Transient</span><br><span class="line">    private int avgWindColor;</span><br><span class="line">    /**</span><br><span class="line">     * 小时报中的温度警报  0正常 1橙色</span><br><span class="line">     */</span><br><span class="line">    @Transient</span><br><span class="line">    private int tempColor;</span><br><span class="line">    /**</span><br><span class="line">     * 九小时天气中 的低温预警 0正常 1橙色</span><br><span class="line">     */</span><br><span class="line">    @Transient</span><br><span class="line">    private int lowTempColor;</span><br><span class="line">    /**</span><br><span class="line">     * 九小时天气中 的高温预警 0正常 1橙色</span><br><span class="line">     */</span><br><span class="line">    @Transient</span><br><span class="line">    private int highTempColor;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 小时报中的能见度警报颜色对应区间</span><br><span class="line">     */</span><br><span class="line">    @Transient</span><br><span class="line">    private WeatherColorAlertValue visibilityColorAlertValue;</span><br><span class="line">    /**</span><br><span class="line">     * 小时报中的平均风速警报颜色对应区间</span><br><span class="line">     */</span><br><span class="line">    @Transient</span><br><span class="line">    private WeatherColorAlertValue avgWindColorAlertValue;</span><br><span class="line">    /**</span><br><span class="line">     * 小时报中的温度警报颜色对应区间</span><br><span class="line">     */</span><br><span class="line">    @Transient</span><br><span class="line">    private WeatherColorAlertValue tempColorAlertValue;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 风向风速悬浮窗提示</span><br><span class="line">     */</span><br><span class="line">    @Transient</span><br><span class="line">    private WeatherColorAlertValue winddirectionAlertValue;</span><br><span class="line"></span><br><span class="line">    @Data</span><br><span class="line">    public static class WeatherColorAlertValue&#123;</span><br><span class="line">        /**</span><br><span class="line">         * 数值区间</span><br><span class="line">         */</span><br><span class="line">        private String alertValue;</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * 区间对应颜色</span><br><span class="line">         */</span><br><span class="line">        private String color;</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * 区间对应颜色对应的数字</span><br><span class="line">         */</span><br><span class="line">        private Integer colorId;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public enum TempColorEnum &#123;</span><br><span class="line"></span><br><span class="line">        NORMAL(0,&quot;普通&quot;),</span><br><span class="line">        ORANGE(1,&quot;橙色&quot;);</span><br><span class="line">        /**</span><br><span class="line">         * 颜色id</span><br><span class="line">         */</span><br><span class="line">        private Integer id;</span><br><span class="line">        /**</span><br><span class="line">         * 颜色名称</span><br><span class="line">         */</span><br><span class="line">        private String color;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        TempColorEnum(Integer id, String color) &#123;</span><br><span class="line">            this.id = id;</span><br><span class="line">            this.color = color;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public Integer getId() &#123;</span><br><span class="line">            return id;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public String getColor() &#123;</span><br><span class="line">            return color;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 通用颜色枚举类  1-蓝色 2-黄色 3-橙色 4-红色 5-E类</span><br><span class="line">     */</span><br><span class="line">    public enum CommonColorEnum &#123;</span><br><span class="line"></span><br><span class="line">        BLUE(1,&quot;蓝色&quot;),</span><br><span class="line">        YELLOW(2,&quot;黄色&quot;),</span><br><span class="line">        ORANGE(3,&quot;橙色&quot;),</span><br><span class="line">        RED(4,&quot;红色&quot;),</span><br><span class="line">        E_COLOR(5,&quot;E类&quot;);</span><br><span class="line">        /**</span><br><span class="line">         * 颜色id</span><br><span class="line">         */</span><br><span class="line">        private Integer id;</span><br><span class="line">        /**</span><br><span class="line">         * 颜色名称</span><br><span class="line">         */</span><br><span class="line">        private String color;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        CommonColorEnum(Integer id, String color) &#123;</span><br><span class="line">            this.id = id;</span><br><span class="line">            this.color = color;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public Integer getId() &#123;</span><br><span class="line">            return id;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public String getColor() &#123;</span><br><span class="line">            return color;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public static CommonColorEnum getById(int type) &#123;</span><br><span class="line">            for (CommonColorEnum e : CommonColorEnum.values()) &#123;</span><br><span class="line">                if (type == e.getId()) &#123;</span><br><span class="line">                    return e;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            return BLUE;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结束</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;新k8s的higress使用&quot;&gt;&lt;a href=&quot;#新k8s的higress使用&quot; class=&quot;headerlink&quot; title=&quot;新k8s的higress使用&quot;&gt;&lt;/a&gt;新k8s的higress使用&lt;/h1&gt;&lt;p&gt;Higress 是一个三合一的云原生 API</summary>
      
    
    
    
    <category term="计算机" scheme="https://maxmaxiang.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>新k8s的nacos部署</title>
    <link href="https://maxmaxiang.github.io/2025/11/19/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%87%AF%E4%BA%9A/%E6%96%B0k8s%E7%9A%84nacos%E9%83%A8%E7%BD%B2/"/>
    <id>https://maxmaxiang.github.io/2025/11/19/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E5%87%AF%E4%BA%9A/%E6%96%B0k8s%E7%9A%84nacos%E9%83%A8%E7%BD%B2/</id>
    <published>2025-11-19T04:23:58.000Z</published>
    <updated>2025-11-22T14:44:47.997Z</updated>
    
    <content type="html"><![CDATA[<h1 id="新k8s的nacos部署"><a href="#新k8s的nacos部署" class="headerlink" title="新k8s的nacos部署"></a>新k8s的nacos部署</h1><h2 id="部署文件"><a href="#部署文件" class="headerlink" title="部署文件"></a>部署文件</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="comment"># Namespace</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Namespace</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nacos</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="comment"># Secret for sensitive data</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Secret</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nacos-secret</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">nacos</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">Opaque</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="attr">mysql.password:</span> <span class="string">&quot;WGpreUBkYl8yMQ==&quot;</span></span><br><span class="line">  <span class="attr">auth.token:</span> <span class="string">&quot;U2VjcmV0S2V5MDkyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODk=&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="comment"># ConfigMap for non-sensitive configuration</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ConfigMap</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nacos-cm</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">nacos</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="attr">mysql.host:</span> <span class="string">&quot;172.31.11.21&quot;</span></span><br><span class="line">  <span class="attr">mysql.db.name:</span> <span class="string">&quot;nacos243&quot;</span></span><br><span class="line">  <span class="attr">mysql.port:</span> <span class="string">&quot;3306&quot;</span></span><br><span class="line">  <span class="attr">mysql.user:</span> <span class="string">&quot;root&quot;</span></span><br><span class="line">  <span class="attr">nacos.replicas:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line">  <span class="attr">nacos.server.port:</span> <span class="string">&quot;8848&quot;</span></span><br><span class="line">  <span class="attr">nacos.application.port:</span> <span class="string">&quot;8848&quot;</span></span><br><span class="line">  <span class="attr">prefer.host.mode:</span> <span class="string">&quot;hostname&quot;</span></span><br><span class="line">  <span class="attr">service.name:</span> <span class="string">&quot;nacos-headless&quot;</span></span><br><span class="line">  <span class="attr">domain.name:</span> <span class="string">&quot;cluster.local&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="comment"># Headless Service for internal cluster communication</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nacos-headless</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">nacos</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nacos</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">publishNotReadyAddresses:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">8848</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">server</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">8848</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">9848</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">client-rpc</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">9848</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">9849</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">raft-rpc</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">9849</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">7848</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">old-raft-rpc</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">7848</span></span><br><span class="line">  <span class="attr">clusterIP:</span> <span class="string">None</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nacos</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="comment"># External Service for external access (NodePort)</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nacos-external</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">nacos</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nacos</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">NodePort</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">8848</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">8848</span></span><br><span class="line">      <span class="attr">nodePort:</span> <span class="number">31848</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">console</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">9848</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">9848</span></span><br><span class="line">      <span class="attr">nodePort:</span> <span class="number">31849</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">client-rpc</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">9849</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">9849</span></span><br><span class="line">      <span class="attr">nodePort:</span> <span class="number">31850</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">server-rpc</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">7848</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">7848</span></span><br><span class="line">      <span class="attr">nodePort:</span> <span class="number">31851</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">old-raft-rpc</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nacos</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="comment"># StatefulSet for Nacos cluster</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">StatefulSet</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nacos</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">nacos</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">podManagementPolicy:</span> <span class="string">Parallel</span></span><br><span class="line">  <span class="attr">serviceName:</span> <span class="string">nacos-headless</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nacos</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nacos</span></span><br><span class="line">      <span class="attr">annotations:</span></span><br><span class="line">        <span class="attr">pod.alpha.kubernetes.io/initialized:</span> <span class="string">&quot;true&quot;</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">affinity:</span></span><br><span class="line">        <span class="attr">podAntiAffinity:</span></span><br><span class="line">          <span class="attr">requiredDuringSchedulingIgnoredDuringExecution:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">labelSelector:</span></span><br><span class="line">                <span class="attr">matchExpressions:</span></span><br><span class="line">                  <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">&quot;app&quot;</span></span><br><span class="line">                    <span class="attr">operator:</span> <span class="string">In</span></span><br><span class="line">                    <span class="attr">values:</span></span><br><span class="line">                      <span class="bullet">-</span> <span class="string">nacos</span></span><br><span class="line">              <span class="attr">topologyKey:</span> <span class="string">&quot;kubernetes.io/hostname&quot;</span></span><br><span class="line">      <span class="attr">initContainers:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">peer-finder-plugin-install</span></span><br><span class="line">          <span class="attr">image:</span> <span class="number">172.31</span><span class="number">.10</span><span class="number">.118</span><span class="string">/nacos/nacos-peer-finder-plugin:1.1</span></span><br><span class="line">          <span class="attr">imagePullPolicy:</span> <span class="string">Always</span></span><br><span class="line">          <span class="attr">volumeMounts:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">data</span></span><br><span class="line">              <span class="attr">mountPath:</span> <span class="string">/home/nacos/plugins/peer-finder</span></span><br><span class="line">              <span class="attr">subPath:</span> <span class="string">peer-finder</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nacos</span></span><br><span class="line">          <span class="attr">image:</span> <span class="number">172.31</span><span class="number">.10</span><span class="number">.118</span><span class="string">/nacos/nacos-server:v2.4.3</span></span><br><span class="line">          <span class="attr">imagePullPolicy:</span> <span class="string">Always</span></span><br><span class="line">          <span class="attr">resources:</span></span><br><span class="line">            <span class="attr">requests:</span></span><br><span class="line">              <span class="attr">memory:</span> <span class="string">&quot;2Gi&quot;</span></span><br><span class="line">              <span class="attr">cpu:</span> <span class="string">&quot;500m&quot;</span></span><br><span class="line">            <span class="attr">limits:</span></span><br><span class="line">              <span class="attr">memory:</span> <span class="string">&quot;4Gi&quot;</span></span><br><span class="line">              <span class="attr">cpu:</span> <span class="string">&quot;1000m&quot;</span></span><br><span class="line">          <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8848</span></span><br><span class="line">              <span class="attr">name:</span> <span class="string">client-port</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">9848</span></span><br><span class="line">              <span class="attr">name:</span> <span class="string">client-rpc</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">9849</span></span><br><span class="line">              <span class="attr">name:</span> <span class="string">raft-rpc</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">7848</span></span><br><span class="line">              <span class="attr">name:</span> <span class="string">old-raft-rpc</span></span><br><span class="line">          <span class="attr">env:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">NACOS_REPLICAS</span></span><br><span class="line">              <span class="attr">valueFrom:</span></span><br><span class="line">                <span class="attr">configMapKeyRef:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">nacos-cm</span></span><br><span class="line">                  <span class="attr">key:</span> <span class="string">nacos.replicas</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">SERVICE_NAME</span></span><br><span class="line">              <span class="attr">valueFrom:</span></span><br><span class="line">                <span class="attr">configMapKeyRef:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">nacos-cm</span></span><br><span class="line">                  <span class="attr">key:</span> <span class="string">service.name</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">DOMAIN_NAME</span></span><br><span class="line">              <span class="attr">valueFrom:</span></span><br><span class="line">                <span class="attr">configMapKeyRef:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">nacos-cm</span></span><br><span class="line">                  <span class="attr">key:</span> <span class="string">domain.name</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">POD_NAMESPACE</span></span><br><span class="line">              <span class="attr">valueFrom:</span></span><br><span class="line">                <span class="attr">fieldRef:</span></span><br><span class="line">                  <span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line">                  <span class="attr">fieldPath:</span> <span class="string">metadata.namespace</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">MYSQL_SERVICE_HOST</span></span><br><span class="line">              <span class="attr">valueFrom:</span></span><br><span class="line">                <span class="attr">configMapKeyRef:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">nacos-cm</span></span><br><span class="line">                  <span class="attr">key:</span> <span class="string">mysql.host</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">MYSQL_SERVICE_DB_NAME</span></span><br><span class="line">              <span class="attr">valueFrom:</span></span><br><span class="line">                <span class="attr">configMapKeyRef:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">nacos-cm</span></span><br><span class="line">                  <span class="attr">key:</span> <span class="string">mysql.db.name</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">MYSQL_SERVICE_PORT</span></span><br><span class="line">              <span class="attr">valueFrom:</span></span><br><span class="line">                <span class="attr">configMapKeyRef:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">nacos-cm</span></span><br><span class="line">                  <span class="attr">key:</span> <span class="string">mysql.port</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">MYSQL_SERVICE_USER</span></span><br><span class="line">              <span class="attr">valueFrom:</span></span><br><span class="line">                <span class="attr">configMapKeyRef:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">nacos-cm</span></span><br><span class="line">                  <span class="attr">key:</span> <span class="string">mysql.user</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">MYSQL_SERVICE_PASSWORD</span></span><br><span class="line">              <span class="attr">valueFrom:</span></span><br><span class="line">                <span class="attr">secretKeyRef:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">nacos-secret</span></span><br><span class="line">                  <span class="attr">key:</span> <span class="string">mysql.password</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">SPRING_DATASOURCE_PLATFORM</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">&quot;mysql&quot;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">NACOS_SERVER_PORT</span></span><br><span class="line">              <span class="attr">valueFrom:</span></span><br><span class="line">                <span class="attr">configMapKeyRef:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">nacos-cm</span></span><br><span class="line">                  <span class="attr">key:</span> <span class="string">nacos.server.port</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">NACOS_APPLICATION_PORT</span></span><br><span class="line">              <span class="attr">valueFrom:</span></span><br><span class="line">                <span class="attr">configMapKeyRef:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">nacos-cm</span></span><br><span class="line">                  <span class="attr">key:</span> <span class="string">nacos.application.port</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">PREFER_HOST_MODE</span></span><br><span class="line">              <span class="attr">valueFrom:</span></span><br><span class="line">                <span class="attr">configMapKeyRef:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">nacos-cm</span></span><br><span class="line">                  <span class="attr">key:</span> <span class="string">prefer.host.mode</span></span><br><span class="line">            <span class="comment"># 鉴权配置</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">NACOS_AUTH_ENABLE</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">&quot;true&quot;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">NACOS_AUTH_TOKEN_EXPIRE_SECONDS</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">&quot;18000&quot;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">NACOS_AUTH_TOKEN</span></span><br><span class="line">              <span class="attr">valueFrom:</span></span><br><span class="line">                <span class="attr">secretKeyRef:</span></span><br><span class="line">                  <span class="attr">name:</span> <span class="string">nacos-secret</span></span><br><span class="line">                  <span class="attr">key:</span> <span class="string">auth.token</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">NACOS_AUTH_CACHE_ENABLE</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">&quot;true&quot;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">NACOS_AUTH_IDENTITY_KEY</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">&quot;serverIdentity&quot;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">NACOS_AUTH_IDENTITY_VALUE</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">&quot;security&quot;</span></span><br><span class="line">            <span class="comment"># JVM参数优化</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">JVM_XMS</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">&quot;1g&quot;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">JVM_XMX</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">&quot;1g&quot;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">JVM_XMN</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">&quot;512m&quot;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">JVM_MS</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">&quot;128m&quot;</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">JVM_MMS</span></span><br><span class="line">              <span class="attr">value:</span> <span class="string">&quot;320m&quot;</span></span><br><span class="line">          <span class="attr">volumeMounts:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">data</span></span><br><span class="line">              <span class="attr">mountPath:</span> <span class="string">/home/nacos/plugins/peer-finder</span></span><br><span class="line">              <span class="attr">subPath:</span> <span class="string">peer-finder</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">data</span></span><br><span class="line">              <span class="attr">mountPath:</span> <span class="string">/home/nacos/data</span></span><br><span class="line">              <span class="attr">subPath:</span> <span class="string">data</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">data</span></span><br><span class="line">              <span class="attr">mountPath:</span> <span class="string">/home/nacos/logs</span></span><br><span class="line">              <span class="attr">subPath:</span> <span class="string">logs</span></span><br><span class="line">  <span class="attr">volumeClaimTemplates:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">metadata:</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">data</span></span><br><span class="line">      <span class="attr">spec:</span></span><br><span class="line">        <span class="attr">accessModes:</span> [ <span class="string">&quot;ReadWriteOnce&quot;</span> ]</span><br><span class="line">        <span class="attr">storageClassName:</span> <span class="string">&quot;longhorn&quot;</span></span><br><span class="line">        <span class="attr">resources:</span></span><br><span class="line">          <span class="attr">requests:</span></span><br><span class="line">            <span class="attr">storage:</span> <span class="string">20Gi</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;新k8s的nacos部署&quot;&gt;&lt;a href=&quot;#新k8s的nacos部署&quot; class=&quot;headerlink&quot; title=&quot;新k8s的nacos部署&quot;&gt;&lt;/a&gt;新k8s的nacos部署&lt;/h1&gt;&lt;h2 id=&quot;部署文件&quot;&gt;&lt;a href=&quot;#部署文件&quot; cla</summary>
      
    
    
    
    <category term="计算机" scheme="https://maxmaxiang.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>反脆弱</title>
    <link href="https://maxmaxiang.github.io/2025/10/01/%E8%AF%BB%E5%90%8E%E6%84%9F/%E7%94%9F%E6%B4%BB%E4%B9%A0%E6%83%AF/%E5%8F%8D%E8%84%86%E5%BC%B1/"/>
    <id>https://maxmaxiang.github.io/2025/10/01/%E8%AF%BB%E5%90%8E%E6%84%9F/%E7%94%9F%E6%B4%BB%E4%B9%A0%E6%83%AF/%E5%8F%8D%E8%84%86%E5%BC%B1/</id>
    <published>2025-10-01T14:01:17.000Z</published>
    <updated>2025-10-01T14:36:07.796Z</updated>
    
    <content type="html"><![CDATA[<p>世界本质上是不可预测的（“黑天鹅”事件频发），传统的“稳健”或“强韧”系统（即能够抵抗冲击、保持原状）已经不够用了。真正强大的系统应该具备 <strong>“反脆弱性”</strong>。</p><p><strong>反脆弱（Antifragile）</strong> 是塔勒布自创的概念，它超越了“坚韧”或“ robust ”（能在冲击中保持不变），指的是<strong>那些能从波动、压力、混乱、不确定性和挫折中学习、调整、进化，并因此而变得更强大、更优秀的事物</strong>。</p><p><strong>一个简单的比喻：</strong></p><ul><li><strong>脆弱（Fragile）</strong>： like 一个玻璃杯，掉到地上会摔碎。</li><li><strong>强韧/坚韧（Robust）</strong>： like 一个塑料杯，掉到地上不会坏，但也不会变得更好。</li><li><strong>反脆弱（Antifragile）</strong>： like 九头蛇（Hydra），砍掉它的一个头，它会长出两个头。<strong>或者像我们的肌肉组织，通过承受压力（锻炼）而变得更强壮。</strong></li></ul><p>因此，全书的主旨是：<strong>我们不应该试图预测和防止所有冲击（这不可能），而应该致力于构建个人、社会、经济、政治等各方面的“反脆弱性”，从而在一个我们无法理解的世界里更好地生存和发展。</strong></p><p>通常的系统会因为存在风险而变得脆弱和易损，而反脆弱是指主动接受更多风险并从中获益的能力。这种能力将错误，问题当做成长的途径，所以如果没有问题，反而不会成长，这和肌肉，人生似乎也有相通之处。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;世界本质上是不可预测的（“黑天鹅”事件频发），传统的“稳健”或“强韧”系统（即能够抵抗冲击、保持原状）已经不够用了。真正强大的系统应该具备 &lt;strong&gt;“反脆弱性”&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;反脆弱（Antifragile）&lt;/strong&gt; 是</summary>
      
    
    
    
    <category term="读后感" scheme="https://maxmaxiang.github.io/categories/%E8%AF%BB%E5%90%8E%E6%84%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>漫步华尔街</title>
    <link href="https://maxmaxiang.github.io/2025/10/01/%E8%AF%BB%E5%90%8E%E6%84%9F/%E7%BB%8F%E6%B5%8E%E9%87%91%E8%9E%8D/%E6%BC%AB%E6%AD%A5%E5%8D%8E%E5%B0%94%E8%A1%97/"/>
    <id>https://maxmaxiang.github.io/2025/10/01/%E8%AF%BB%E5%90%8E%E6%84%9F/%E7%BB%8F%E6%B5%8E%E9%87%91%E8%9E%8D/%E6%BC%AB%E6%AD%A5%E5%8D%8E%E5%B0%94%E8%A1%97/</id>
    <published>2025-10-01T14:01:17.000Z</published>
    <updated>2025-10-01T14:41:27.791Z</updated>
    
    <content type="html"><![CDATA[<p>漫步华尔街中最主要的观点有“最优投资策略与年龄有关”，其核心思想是：一个人的投资组合（即持有的股票、债券、现金等资产的比例）应根据其生命周期的不同阶段进行动态调整，以匹配其随时间变化的“风险承受能力”和“财务目标”。</p><p>这绝不是一句空话，而是基于两个至关重要的基本原理：</p><p>风险承受能力与投资期限（Time Horizon）密切相关：年轻人拥有更长的投资期限（距离退休还有几十年），这意味着他们有足够的时间来从市场的短期波动和暴跌中恢复过来。因此，他们可以承受更高的风险（即投资组合中股票占比更高），以追求更高的长期回报。而年长者投资期限短，无法承受巨大的短期损失，因为可能没有足够的时间在本金大幅缩水后恢复过来。</p><p>人力资本（Human Capital）的转化：年轻时，你的主要资产是你未来工作收入的现值，即“人力资本”。这份收入相对稳定（像债券一样提供持续现金流）。因此，你可以将你的金融资本（即你的储蓄和投资）更多地配置于高风险高回报的资产（如股票）来平衡。随着年龄增长，你的人力资本逐渐被“消耗”并转化为金融资本。当你退休时，人力资本降为零，你的生活完全依赖于金融资本。此时，金融资本本身必须变得像你年轻时的工资一样可靠，因此需要降低其风险。</p><p>下面，我们分阶段详细说明这个策略是如何与年龄挂钩的：</p><p>不同年龄阶段的最优投资策略<br>马尔基尔在书中给出了一个经典的、简单易行的资产配置指南，即 “100/120减去你的年龄”法则。</p><p>公式：投资于股票的比例 = (100或120) - 你的年龄</p><p>剩余部分：投资于债券和现金等更安全的资产。</p><p>还有谈论了股市的常见的知识，退休金策略等等，作为股市/金融入门读物很好，可以知道一些粗略的基本的道理。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;漫步华尔街中最主要的观点有“最优投资策略与年龄有关”，其核心思想是：一个人的投资组合（即持有的股票、债券、现金等资产的比例）应根据其生命周期的不同阶段进行动态调整，以匹配其随时间变化的“风险承受能力”和“财务目标”。&lt;/p&gt;
&lt;p&gt;这绝不是一句空话，而是基于两个至关重要的基</summary>
      
    
    
    
    <category term="读后感" scheme="https://maxmaxiang.github.io/categories/%E8%AF%BB%E5%90%8E%E6%84%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>如何获得加速回报</title>
    <link href="https://maxmaxiang.github.io/2025/09/08/%E5%88%9B%E4%B8%9A/%E5%A6%82%E4%BD%95%E8%8E%B7%E5%BE%97%E5%8A%A0%E9%80%9F%E5%9B%9E%E6%8A%A5/"/>
    <id>https://maxmaxiang.github.io/2025/09/08/%E5%88%9B%E4%B8%9A/%E5%A6%82%E4%BD%95%E8%8E%B7%E5%BE%97%E5%8A%A0%E9%80%9F%E5%9B%9E%E6%8A%A5/</id>
    <published>2025-09-08T00:01:17.000Z</published>
    <updated>2025-09-08T01:11:06.521Z</updated>
    
    <content type="html"><![CDATA[<p>一般来说，我们都会特别关注投入和回报的关系。<br>同样是工作一天，为什么我领的薪水没有别人高？<br>开通了一个公众号，写了几篇文章，为什么只有这么几个人关注我？<br>花了一周的时间读一本书，为什么感觉没有什么用处？<br>我们生活在一个“稀缺”的社会里。我们每天根据投入和回报的关系，分配着我们稀缺的时间、金钱和注意力。投入和回报成为了我们生活中大部分决策的评判标准。<br>然而，值得注意的是，我们很多人对于投入和回报的理解可能是单一的，或片面的。今天想介绍的思维模型，就是关于一种经常被我们忽视的投入回报关系。<br>为了理解这个思维模型，让我们先来看一个简单的化学问题：冰是如何变成水的。<br>请看一下下面这张图，并且聚焦在A到B，和B到C这两段。</p><p>在A这个点上，温度是-25摄氏度，冰是固态的。<br>我们慢慢的把温度从-25度升高到-1度，在这个过程中，没有什么事情发生。冰仍然是固态的。<br>那么从-25度到-1度过程中，加热的能量去了哪里呢？<br>分子间力（Intermolecular forces）是存在于分子间的一种弱的吸引力。分子间力决定了一个物质的形态：固态、液态还是气态。<br>在从A到B的过程，我们加热的能量用来改变冰的温度，从-25度到0度。虽然表面上冰的形态没有任何变化。<br>而从B到C的过程中，我们加热的能量用来克服分子间力，固态的冰开始出现形态的变化，慢慢转变为液态。<br>如果我们把加热的能量看成是“投入”的话，那么从-25度的A，到B点，如此大的投入，我们其实是看不到任何回报的。而只有在我们到达B这个点时，一点的能量投入，产生了原来想像不到的回报：冰的形态开始变化，开始融化水。<br>这其实是一种反直觉的投入回报关系。<br>一般来说，我们都会很在乎即时的、短期的回报，但很难看到投入的长期价值。当冰从-25度加热到-20度时，很多人看到冰没有什么变化，就已经放弃了。<br>这种对于即时回报的追求，很多时候已经内化在我们的潜意识里，导致我们很难和时间做朋友，取得远超出投入的回报。就像是下图中的曲线A和曲线B。</p><p>我叫像曲线B这类的投入回报关系为加速回报模型。这不是一个很新的概念，但当我们真正学会利用这个思维模型，就会发现它可以给我们很多有益的启发。<br>回报是投入的结果，而不是目的<br>第一个问题是，如何才能够摆脱对短期利益的追逐，获得曲线B呢？要知道，在取得指数式的收益之前，是漫长的等待。<br>答案很简单，不要关注回报，而是关注投入本身。在曲线B中，回报不再是目的，而是专注投入的结果。<br>举个例子，一个作家，可以投入时间提高自己作品的质量，也可以关注如何提高自己的稿酬。但后者只会让他越来越失败，而只有专注前者，他才有可能成为伟大的作家。<br>同样的，一个公司，如果只是关注利润，很可能会偷工减料生产劣质产品。而如果这个公司不断思考怎样的投入才能为用户提供更大的价值，这家公司就更有可能成功。<br>百姓网的CEO王建硕曾经在2009年，写过一篇让人很受启迪的文章：<br>如果一件事情是为了回报，这件事情很难持久。这和一个人的毅力无关。<br>当一个人还没有真正意识到自己做这件事情的意义的时候，常常会为了显而易见的回报来坚持做一些事情。但很少有事情可以让你立刻看到回报，于是会选择放弃。放弃，多半不是因为无法坚持而放弃，而是因为感觉到自己做这件事失去了意义，所以放弃。<br>写blog就是这样。如果只是很希望别人来看，来评论，就会一天访问十次自己的blog，看一看有没有人回复。不久就会精疲力尽，而且会发现，自己的努力并不会直接换来多少人回复（像我每天一篇写了第四个年头了，也不会有多少回复的）。这时，就会怀疑自己做这件事情的意义，于是就不写了。不用埋怨自己的毅力，这件事本来和毅力毫无关系。<br>而凡是能坚持的blogger，要么是把blog写给自己的，意识到每天的记录是帮助自己来整理思路，为了自己生活得更好，要么是为了兴趣，写BLOG仅仅是为了帮助别人，只关心分享，而不关心评论或者浏览量的。无论什么样的动机，只要能看到自己的努力是为了贡献，而不是回报，就会坚持。<br>只有对贡献有激情，不在乎回报的时候，你才能坚持做一件事情，就像伟大的公司因为有一个贡献的理念，才可以持久的保持激情，在取得巨大的成功以后，接着日复一日的寻找更大的贡献。<br>很多时候，只有我们坚持的投入，不计较回报，而专注于贡献，才能享受到加速的回报。<br>正如王建硕老师所说：<br>回报是我们所贡献价值的影子。当一个人奔向太阳的时候，影子会跟着你。<br>当他追随影子的时候，他将远离太阳，远离光明，最终失去影子。<br>长期思考（Think Long Term）<br>加速回报模型给我们的第二个启示，是要学会长期思考。<br>亚马逊创始人和CEO杰夫·贝佐斯(Jeff Bezos)一直是长期思考的倡导者。他甚至和一个非营利组织一起，在德克萨斯州西部一块土地上建造了一台可以工作一万年的大钟，以提醒人们要更长远地思考。</p><p>他在一次访谈里，曾经提到：<br>如果我们可以思考的更长远，我们能够完成很多我们认为无法完成的事情。<br>比如，今天我和你说：我想让你3年内解决世界的饥饿问题。你会很自然的拒绝这件事，因为你不认为自己可以做到。<br>但是，如果我和你说：我想让你在30年内解决世界的饥饿问题。这就会完全不一样了，你会开始考虑在什么情况下，这种改变可以发生。<br>所以，你看我们没有改变任何事，只是改变了时间长度，你会产生完全不一样的反应。<br>很少人在考虑问题时，会意识到背后的时间长度假设。但事实上，时间长度这个维度非常重要。<br>比如前一段时间，我换工作时，找一位很厉害的前辈咨询职业规划上的问题。他听完我自己的想法后，给我的第一个建议：“我建议你在考虑自己的职业生涯时，要放在10年的维度来思考，而不是两三年。在这样的时间维度上，再考虑你想要成为什么样的人，现在还需要什么样的经历。”<br>比尔·盖茨曾经说过一句话，深有共鸣：<br>Most people overestimate what they can do in one year and underestimate what they can do in ten years.<br>大部分人都高估了自己在一年里可以做到的事情，同时又低估了自己可以在10年里完成的事情。<br>我们生活最大的杠杆是形成有益的习惯<br>几月前，我读到一篇Coursera董事长Andrew Ng教授的访谈。这个访谈里，有一段话很好的诠释了加速回报思维模型给我们的启示。<br>我们生活中最大的杠杆就是我们形成有益习惯的能力。<br>当我和研究人员交流，和想创业的人交流时，我会告诉他们如果你能够不断的阅读研究论文，一周很认真的读6篇，并且连续读两年。在两年后，你会发现自己受益匪浅。<br>这是对自己长期发展的一项非常棒的投资。<br>但是这种类型的投入，如果你花费整个周六学习而不是看电视，没有人会拍拍你的肩膀，赞赏你做得好。<br>很可能，你花费整个周六学到的东西都不会对下周一工作有什么明显的帮助。这种类型的事情，有非常少，甚至没有短期的回报。但它是一项非常棒的长期投资。<br>这就是你想变成伟大的研究人员的必经之路。你必须大量的阅读。<br>人们总是依赖“意志力”来做这种类型的事情，但这几乎不可能成功，因为意志力会很快消退。<br>但是，我认为那些形成了这种习惯的人。那些习惯每周学习，勤奋钻研的人。他们更有可能会有所成就。<br>加速回报模型是我在过去几年里看到的最有普适性的模型之一。把这个模型装入工具箱，我们对于投入与回报的理解也会变得更加全面，从而最大程度上避开短视的陷阱，做更好的决策。<br>最后，我想以巴菲特的一句话结束这篇文章：<br>Games are won by players who focus on the field, not the ones looking at the scoreboard.<br>要想取得比赛的胜利，就应该关注赛场，而不是时刻盯着记分牌。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;一般来说，我们都会特别关注投入和回报的关系。&lt;br&gt;同样是工作一天，为什么我领的薪水没有别人高？&lt;br&gt;开通了一个公众号，写了几篇文章，为什么只有这么几个人关注我？&lt;br&gt;花了一周的时间读一本书，为什么感觉没有什么用处？&lt;br&gt;我们生活在一个“稀缺”的社会里。我们每天根据投</summary>
      
    
    
    
    <category term="随记" scheme="https://maxmaxiang.github.io/categories/%E9%9A%8F%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>最优投资策略与年龄的关系</title>
    <link href="https://maxmaxiang.github.io/2025/09/08/%E5%88%9B%E4%B8%9A/%E6%9C%80%E4%BC%98%E6%8A%95%E8%B5%84%E7%AD%96%E7%95%A5%E4%B8%8E%E5%B9%B4%E9%BE%84%E7%9A%84%E5%85%B3%E7%B3%BB/"/>
    <id>https://maxmaxiang.github.io/2025/09/08/%E5%88%9B%E4%B8%9A/%E6%9C%80%E4%BC%98%E6%8A%95%E8%B5%84%E7%AD%96%E7%95%A5%E4%B8%8E%E5%B9%B4%E9%BE%84%E7%9A%84%E5%85%B3%E7%B3%BB/</id>
    <published>2025-09-08T00:01:17.000Z</published>
    <updated>2025-09-08T01:12:21.917Z</updated>
    
    <content type="html"><![CDATA[<p>马尔基尔在《漫步华尔街》中提出的“最优投资策略与年龄有关”，其核心思想是：一个人的投资组合（即持有的股票、债券、现金等资产的比例）应根据其生命周期的不同阶段进行动态调整，以匹配其随时间变化的“风险承受能力”和“财务目标”。</p><p>这绝不是一句空话，而是基于两个至关重要的基本原理：</p><p>风险承受能力与投资期限（Time Horizon）密切相关：年轻人拥有更长的投资期限（距离退休还有几十年），这意味着他们有足够的时间来从市场的短期波动和暴跌中恢复过来。因此，他们可以承受更高的风险（即投资组合中股票占比更高），以追求更高的长期回报。而年长者投资期限短，无法承受巨大的短期损失，因为可能没有足够的时间在本金大幅缩水后恢复过来。</p><p>人力资本（Human Capital）的转化：年轻时，你的主要资产是你未来工作收入的现值，即“人力资本”。这份收入相对稳定（像债券一样提供持续现金流）。因此，你可以将你的金融资本（即你的储蓄和投资）更多地配置于高风险高回报的资产（如股票）来平衡。随着年龄增长，你的人力资本逐渐被“消耗”并转化为金融资本。当你退休时，人力资本降为零，你的生活完全依赖于金融资本。此时，金融资本本身必须变得像你年轻时的工资一样可靠，因此需要降低其风险。</p><p>下面，我们分阶段详细说明这个策略是如何与年龄挂钩的：</p><p>不同年龄阶段的最优投资策略<br>马尔基尔在书中给出了一个经典的、简单易行的资产配置指南，即 “100/120减去你的年龄”法则。</p><p>公式：投资于股票的比例 = (100或120) - 你的年龄</p><p>剩余部分：投资于债券和现金等更安全的资产。</p><p>这个公式有两个版本，反映了个人风险偏好的细微差别（你是“激进”还是“保守”）：</p><p>激进版（120法则）：股票占比 = 120 - 年龄</p><p>保守版（100法则）：股票占比 = 100 - 年龄</p><p>我们以“100法则”为例，来看一个具体的生命周期规划：</p><ol><li>积累阶段（20-30多岁：青年期）<br>年龄：25岁</li></ol><p>股票配置建议 (100-25=75%)：70% - 85%</p><p>债券/现金配置：15% - 30%</p><p>解读：</p><p>目标：资本快速增值（成长性）。核心目标是利用复利的魔力，为未来的重大支出（买房、子女教育、退休）积累财富。</p><p>风险承受能力：极高。距离退休还有40年左右，可以完全无视市场的周期性下跌。市场下跌时，反而可以用更低的成本买入更多资产。</p><p>策略：应广泛投资于国内外股票指数基金（如美国标普500指数基金、全球股票指数基金），少量配置债券基金以保持平衡并在市场大跌时提供买入机会。</p><ol><li>巩固阶段（40-50多岁：中年期）<br>年龄：50岁</li></ol><p>股票配置建议 (100-50=50%)：45% - 60%</p><p>债券/现金配置：40% - 55%</p><p>解读：</p><p>目标：从资本增值向资本保值过渡。你已经积累了大量资产，现在需要保护它们，防止在临近退休时遭遇重大亏损。</p><p>风险承受能力：中等。距离退休可能还有10-15年，虽然仍有时间恢复，但一次像2008年那样的大熊市可能会严重破坏你的退休计划。</p><p>策略：开始系统地降低股票仓位，增加债券和高股息股票的配置。这个阶段是“锁定收益”和“风险管理”的关键期。</p><ol><li>支出阶段（60岁及以上：退休期）<br>年龄：70岁</li></ol><p>股票配置建议 (100-70=30%)：20% - 40%</p><p>债券/现金配置：60% - 80%</p><p>解读：</p><p>目标：资本保值和产生稳定收入。投资组合产生的利息和股息将成为退休生活的重要收入来源。</p><p>风险承受能力：极低。你已经没有工资收入，且投资期限很短。一次50%的市场下跌意味着你的退休生活质量将直接下降50%，而且你可能没有时间等待市场回升。</p><p>策略：投资组合应以高质量的债券、大额存单、货币市场基金和高股息蓝筹股为主。保留一部分股票（如20-30%）是为了对抗通货膨胀，确保你的购买力在未来20-30年的退休生活中不会萎缩。</p><p>总结与关键要点<br>动态调整（Rebalancing）：这不是一个“设定后就忘记”的策略。你需要每年或每几年检查一次你的资产配置比例。如果因为股市大涨导致股票占比远超目标，就卖出部分股票买入债券，使比例重回目标值。这本质上是“高卖低买”的纪律性操作。</p><p>个人化：这只是一个通用指南。具体的比例还需根据你的个人风险偏好、健康状况、家庭负担、具体财务目标等因素进行微调。一个极其厌恶风险的25岁年轻人，可能也会选择更保守的配置。</p><p>核心工具是指数基金：马尔基尔是有效市场假说的支持者，他坚信大多数投资者无法持续战胜市场。因此，他强烈推荐使用低成本的宽基市场指数基金作为执行这一策略的工具，这样可以最大限度地分散风险并节省费用。</p><p>总而言之，“最优投资策略与投资者的年龄有关”这句话的精髓在于： 它为你提供了一个清晰、纪律化的框架，让你在漫长的人生中，既能利用年轻时的高风险承受能力去博取高回报，又能在年老时保护好来之不易的财富，平滑地完成从“进攻”到“防守”的战略转变，最终实现一生的财务目标。这是一种兼顾了智慧与理性的生命周期投资法。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;马尔基尔在《漫步华尔街》中提出的“最优投资策略与年龄有关”，其核心思想是：一个人的投资组合（即持有的股票、债券、现金等资产的比例）应根据其生命周期的不同阶段进行动态调整，以匹配其随时间变化的“风险承受能力”和“财务目标”。&lt;/p&gt;
&lt;p&gt;这绝不是一句空话，而是基于两个至关重</summary>
      
    
    
    
    <category term="随记" scheme="https://maxmaxiang.github.io/categories/%E9%9A%8F%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>李光耀观天下</title>
    <link href="https://maxmaxiang.github.io/2025/09/01/%E8%AF%BB%E5%90%8E%E6%84%9F/%E4%BC%A0%E8%AE%B0/%E6%9D%8E%E5%85%89%E8%80%80%E8%A7%82%E5%A4%A9%E4%B8%8B/"/>
    <id>https://maxmaxiang.github.io/2025/09/01/%E8%AF%BB%E5%90%8E%E6%84%9F/%E4%BC%A0%E8%AE%B0/%E6%9D%8E%E5%85%89%E8%80%80%E8%A7%82%E5%A4%A9%E4%B8%8B/</id>
    <published>2025-08-31T17:01:17.000Z</published>
    <updated>2025-09-01T00:57:33.798Z</updated>
    
    <content type="html"><![CDATA[<p>李光耀对世界各地的政治都有深入的理解，这种理解需要熟知当地的历史，文化，宗教，语言等等方面才能拥有。他本人实际上是一个本科数学专业的高材生，但是为了家乡而转行。我不知道他读过多少书，见过多少人，去过多少地方，但很明显非常多，他的见闻来源渠道丰富，且孜孜不倦。有一种信息輸入的方式是刻意控制自己只接受某些方面的輸入，这样似乎可以提高信息的利用率，还有一种是尽可能扩大自己的輸入来源和渠道但不偏信任何一种而是综合判断，很明显后者有优势，因为如果你的輸入渠道不够丰富你很可能无法判断哪些是好的輸入渠道，万一走偏了可以纠正过来，但第一种如果没走偏信息利用率非常高，如果走偏了信息全部报废，属于是高风险高收益的赌博，赌单一信息来源的正确性。实际在运用中可以综合使用这两种，首先评估信息来源的正确性，对于高正确性的来源可以使用第一种比如超过200年的经典书籍，理论。对于新兴的产业，技术，理论则必须扩大信息源，多听不同人的意见，多看不同理论的书。</p><p>他对于中国的预判相当准确，在80年代便准确预判了40年后会发生的许多事，其中人口问题是他面对新加坡也无能为力的，他认为原因在于女性的受教育程度提高，拥有了独立的经济和社会地位，但女性作为独立个体在现代社会理应享有享受生活的权利，所以人口问题是无解的。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;李光耀对世界各地的政治都有深入的理解，这种理解需要熟知当地的历史，文化，宗教，语言等等方面才能拥有。他本人实际上是一个本科数学专业的高材生，但是为了家乡而转行。我不知道他读过多少书，见过多少人，去过多少地方，但很明显非常多，他的见闻来源渠道丰富，且孜孜不倦。有一种信息輸入的</summary>
      
    
    
    
    <category term="读后感" scheme="https://maxmaxiang.github.io/categories/%E8%AF%BB%E5%90%8E%E6%84%9F/"/>
    
    
  </entry>
  
</feed>
